package org.apache.jsp;

import javax.servlet.*;
import javax.servlet.http.*;
import javax.servlet.jsp.*;
import java.util.*;

public final class UtilidadesPanel_jsp extends org.apache.jasper.runtime.HttpJspBase
    implements org.apache.jasper.runtime.JspSourceDependent {

  private static final JspFactory _jspxFactory = JspFactory.getDefaultFactory();

  private static java.util.List<String> _jspx_dependants;

  private org.glassfish.jsp.api.ResourceInjector _jspx_resourceInjector;

  public java.util.List<String> getDependants() {
    return _jspx_dependants;
  }

  public void _jspService(HttpServletRequest request, HttpServletResponse response)
        throws java.io.IOException, ServletException {

    PageContext pageContext = null;
    HttpSession session = null;
    ServletContext application = null;
    ServletConfig config = null;
    JspWriter out = null;
    Object page = this;
    JspWriter _jspx_out = null;
    PageContext _jspx_page_context = null;

    try {
      response.setContentType("text/html;charset=UTF-8");
      pageContext = _jspxFactory.getPageContext(this, request, response,
      			null, true, 8192, true);
      _jspx_page_context = pageContext;
      application = pageContext.getServletContext();
      config = pageContext.getServletConfig();
      session = pageContext.getSession();
      out = pageContext.getOut();
      _jspx_out = out;
      _jspx_resourceInjector = (org.glassfish.jsp.api.ResourceInjector) application.getAttribute("com.sun.appserv.jsp.resource.injector");

      out.write("\n");
      out.write("\n");
      out.write("<!DOCTYPE html>\n");
      out.write("<html lang=\"es\">\n");
      out.write("<head>\n");
      out.write("    <meta charset=\"UTF-8\">\n");
      out.write("    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n");
      out.write("    <title>Panel de Utilidades - Sistema PetCare</title>\n");
      out.write("    <style>\n");
      out.write("        :root {\n");
      out.write("            --primary-color: #abcbd5;\n");
      out.write("            --primary-dark: #8fb6c1;\n");
      out.write("            --primary-light: #c5dce3;\n");
      out.write("            --secondary-color: #d5c4ad;\n");
      out.write("            --accent-color: #d5adc7;\n");
      out.write("            --success-color: #4CAF50;\n");
      out.write("            --warning-color: #FFC107;\n");
      out.write("            --danger-color: #F44336;\n");
      out.write("            --info-color: #2196F3;\n");
      out.write("            --text-dark: #2c3e50;\n");
      out.write("            --text-light: #5d6d7e;\n");
      out.write("            --bg-light: #f8f9fa;\n");
      out.write("            --white: #ffffff;\n");
      out.write("            --shadow: 0 8px 32px rgba(0,0,0,0.1);\n");
      out.write("            --radius: 16px;\n");
      out.write("            --gradient-primary: linear-gradient(135deg, var(--primary-color) 0%, var(--primary-dark) 100%);\n");
      out.write("            --gradient-success: linear-gradient(135deg, var(--success-color) 0%, #45a049 100%);\n");
      out.write("            --gradient-warning: linear-gradient(135deg, var(--warning-color) 0%, #ffb300 100%);\n");
      out.write("            --gradient-danger: linear-gradient(135deg, var(--danger-color) 0%, #d32f2f 100%);\n");
      out.write("        }\n");
      out.write("\n");
      out.write("        * {\n");
      out.write("            margin: 0;\n");
      out.write("            padding: 0;\n");
      out.write("            box-sizing: border-box;\n");
      out.write("            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;\n");
      out.write("        }\n");
      out.write("\n");
      out.write("        body {\n");
      out.write("            background: linear-gradient(135deg, #f5f7fa 0%, var(--primary-light) 100%);\n");
      out.write("            color: var(--text-dark);\n");
      out.write("            line-height: 1.6;\n");
      out.write("            min-height: 100vh;\n");
      out.write("        }\n");
      out.write("\n");
      out.write("        .container {\n");
      out.write("            display: flex;\n");
      out.write("            min-height: 100vh;\n");
      out.write("        }\n");
      out.write("\n");
      out.write("        /* Sidebar Styles - Coherente con Dashboard */\n");
      out.write("        .sidebar {\n");
      out.write("            width: 280px;\n");
      out.write("            background: var(--gradient-primary);\n");
      out.write("            color: var(--white);\n");
      out.write("            padding: 0;\n");
      out.write("            box-shadow: var(--shadow);\n");
      out.write("            position: relative;\n");
      out.write("            z-index: 10;\n");
      out.write("        }\n");
      out.write("\n");
      out.write("        .logo {\n");
      out.write("            padding: 30px 20px;\n");
      out.write("            text-align: center;\n");
      out.write("            background: rgba(255, 255, 255, 0.1);\n");
      out.write("            border-bottom: 1px solid rgba(255, 255, 255, 0.2);\n");
      out.write("        }\n");
      out.write("\n");
      out.write("        .logo h1 {\n");
      out.write("            font-size: 1.8em;\n");
      out.write("            font-weight: 700;\n");
      out.write("            display: flex;\n");
      out.write("            align-items: center;\n");
      out.write("            justify-content: center;\n");
      out.write("            gap: 12px;\n");
      out.write("        }\n");
      out.write("\n");
      out.write("        .logo-icon {\n");
      out.write("            font-size: 2em;\n");
      out.write("        }\n");
      out.write("\n");
      out.write("        .user-info {\n");
      out.write("            padding: 25px 20px;\n");
      out.write("            display: flex;\n");
      out.write("            align-items: center;\n");
      out.write("            gap: 15px;\n");
      out.write("            border-bottom: 1px solid rgba(255, 255, 255, 0.2);\n");
      out.write("            background: rgba(255, 255, 255, 0.05);\n");
      out.write("        }\n");
      out.write("\n");
      out.write("        .user-avatar {\n");
      out.write("            width: 50px;\n");
      out.write("            height: 50px;\n");
      out.write("            border-radius: 50%;\n");
      out.write("            background: rgba(255, 255, 255, 0.2);\n");
      out.write("            display: flex;\n");
      out.write("            align-items: center;\n");
      out.write("            justify-content: center;\n");
      out.write("            font-weight: bold;\n");
      out.write("            font-size: 1.2em;\n");
      out.write("            border: 2px solid rgba(255, 255, 255, 0.3);\n");
      out.write("        }\n");
      out.write("\n");
      out.write("        .user-details h3 {\n");
      out.write("            font-size: 1.1em;\n");
      out.write("            margin-bottom: 5px;\n");
      out.write("            font-weight: 600;\n");
      out.write("        }\n");
      out.write("\n");
      out.write("        .user-details p {\n");
      out.write("            font-size: 0.85em;\n");
      out.write("            opacity: 0.9;\n");
      out.write("        }\n");
      out.write("\n");
      out.write("        .menu {\n");
      out.write("            list-style: none;\n");
      out.write("            padding: 25px 0;\n");
      out.write("        }\n");
      out.write("\n");
      out.write("        .menu-section {\n");
      out.write("            padding: 15px 25px;\n");
      out.write("            font-size: 0.75em;\n");
      out.write("            text-transform: uppercase;\n");
      out.write("            color: rgba(255, 255, 255, 0.7);\n");
      out.write("            letter-spacing: 1.5px;\n");
      out.write("            margin-top: 15px;\n");
      out.write("            font-weight: 600;\n");
      out.write("            background: rgba(255, 255, 255, 0.05);\n");
      out.write("        }\n");
      out.write("\n");
      out.write("        .menu-item {\n");
      out.write("            padding: 16px 30px;\n");
      out.write("            border-left: 4px solid transparent;\n");
      out.write("            transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);\n");
      out.write("            cursor: pointer;\n");
      out.write("            display: flex;\n");
      out.write("            align-items: center;\n");
      out.write("            gap: 15px;\n");
      out.write("            position: relative;\n");
      out.write("            overflow: hidden;\n");
      out.write("        }\n");
      out.write("\n");
      out.write("        .menu-item::before {\n");
      out.write("            content: '';\n");
      out.write("            position: absolute;\n");
      out.write("            top: 0;\n");
      out.write("            left: -100%;\n");
      out.write("            width: 100%;\n");
      out.write("            height: 100%;\n");
      out.write("            background: linear-gradient(90deg, transparent, rgba(255,255,255,0.1), transparent);\n");
      out.write("            transition: left 0.6s;\n");
      out.write("        }\n");
      out.write("\n");
      out.write("        .menu-item:hover::before {\n");
      out.write("            left: 100%;\n");
      out.write("        }\n");
      out.write("\n");
      out.write("        .menu-item:hover {\n");
      out.write("            background-color: rgba(255, 255, 255, 0.1);\n");
      out.write("            border-left-color: var(--white);\n");
      out.write("            transform: translateX(5px);\n");
      out.write("        }\n");
      out.write("\n");
      out.write("        .menu-item.active {\n");
      out.write("            background-color: rgba(255, 255, 255, 0.15);\n");
      out.write("            border-left-color: var(--white);\n");
      out.write("        }\n");
      out.write("\n");
      out.write("        .menu-item a {\n");
      out.write("            color: var(--white);\n");
      out.write("            text-decoration: none;\n");
      out.write("            display: flex;\n");
      out.write("            align-items: center;\n");
      out.write("            gap: 15px;\n");
      out.write("            width: 100%;\n");
      out.write("            font-size: 0.95em;\n");
      out.write("            font-weight: 500;\n");
      out.write("        }\n");
      out.write("\n");
      out.write("        .menu-icon {\n");
      out.write("            font-size: 1.3em;\n");
      out.write("            width: 24px;\n");
      out.write("            text-align: center;\n");
      out.write("        }\n");
      out.write("\n");
      out.write("        /* Main Content Styles */\n");
      out.write("        .content {\n");
      out.write("            flex: 1;\n");
      out.write("            padding: 0;\n");
      out.write("            background: transparent;\n");
      out.write("            overflow-y: auto;\n");
      out.write("        }\n");
      out.write("\n");
      out.write("        .header {\n");
      out.write("            background: var(--white);\n");
      out.write("            padding: 25px 40px;\n");
      out.write("            border-bottom: 1px solid rgba(0, 0, 0, 0.05);\n");
      out.write("            box-shadow: 0 4px 30px rgba(0, 0, 0, 0.1);\n");
      out.write("            position: relative;\n");
      out.write("            overflow: hidden;\n");
      out.write("        }\n");
      out.write("\n");
      out.write("        .header::before {\n");
      out.write("            content: '';\n");
      out.write("            position: absolute;\n");
      out.write("            top: 0;\n");
      out.write("            left: 0;\n");
      out.write("            right: 0;\n");
      out.write("            height: 3px;\n");
      out.write("            background: var(--gradient-primary);\n");
      out.write("        }\n");
      out.write("\n");
      out.write("        .header-top {\n");
      out.write("            display: flex;\n");
      out.write("            justify-content: space-between;\n");
      out.write("            align-items: center;\n");
      out.write("            margin-bottom: 10px;\n");
      out.write("        }\n");
      out.write("\n");
      out.write("        .welcome h1 {\n");
      out.write("            font-size: 2.2em;\n");
      out.write("            color: var(--text-dark);\n");
      out.write("            margin-bottom: 8px;\n");
      out.write("            font-weight: 700;\n");
      out.write("        }\n");
      out.write("\n");
      out.write("        .welcome p {\n");
      out.write("            color: var(--text-light);\n");
      out.write("            font-size: 1.1em;\n");
      out.write("            font-weight: 500;\n");
      out.write("        }\n");
      out.write("\n");
      out.write("        .header-actions {\n");
      out.write("            display: flex;\n");
      out.write("            gap: 15px;\n");
      out.write("        }\n");
      out.write("\n");
      out.write("        .main-content {\n");
      out.write("            padding: 40px;\n");
      out.write("            max-width: 1400px;\n");
      out.write("            margin: 0 auto;\n");
      out.write("        }\n");
      out.write("\n");
      out.write("        /* Botones - Coherentes con Dashboard */\n");
      out.write("        .btn {\n");
      out.write("            padding: 16px 28px;\n");
      out.write("            border: none;\n");
      out.write("            border-radius: var(--radius);\n");
      out.write("            cursor: pointer;\n");
      out.write("            text-decoration: none;\n");
      out.write("            display: inline-flex;\n");
      out.write("            align-items: center;\n");
      out.write("            gap: 10px;\n");
      out.write("            font-weight: 600;\n");
      out.write("            transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);\n");
      out.write("            font-size: 0.95em;\n");
      out.write("            position: relative;\n");
      out.write("            overflow: hidden;\n");
      out.write("            border: 1px solid transparent;\n");
      out.write("        }\n");
      out.write("\n");
      out.write("        .btn::before {\n");
      out.write("            content: '';\n");
      out.write("            position: absolute;\n");
      out.write("            top: 0;\n");
      out.write("            left: -100%;\n");
      out.write("            width: 100%;\n");
      out.write("            height: 100%;\n");
      out.write("            background: linear-gradient(90deg, transparent, rgba(255,255,255,0.3), transparent);\n");
      out.write("            transition: left 0.6s;\n");
      out.write("        }\n");
      out.write("\n");
      out.write("        .btn:hover::before {\n");
      out.write("            left: 100%;\n");
      out.write("        }\n");
      out.write("\n");
      out.write("        .btn-primary {\n");
      out.write("            background: var(--gradient-primary);\n");
      out.write("            color: var(--white);\n");
      out.write("            box-shadow: 0 8px 25px rgba(171, 203, 213, 0.3);\n");
      out.write("        }\n");
      out.write("\n");
      out.write("        .btn-primary:hover {\n");
      out.write("            transform: translateY(-3px);\n");
      out.write("            box-shadow: 0 12px 35px rgba(171, 203, 213, 0.4);\n");
      out.write("        }\n");
      out.write("\n");
      out.write("        .btn-success {\n");
      out.write("            background: var(--gradient-success);\n");
      out.write("            color: var(--white);\n");
      out.write("            box-shadow: 0 8px 25px rgba(76, 175, 80, 0.3);\n");
      out.write("        }\n");
      out.write("\n");
      out.write("        .btn-success:hover {\n");
      out.write("            transform: translateY(-3px);\n");
      out.write("            box-shadow: 0 12px 35px rgba(76, 175, 80, 0.4);\n");
      out.write("        }\n");
      out.write("\n");
      out.write("        .btn-warning {\n");
      out.write("            background: var(--gradient-warning);\n");
      out.write("            color: var(--text-dark);\n");
      out.write("            box-shadow: 0 8px 25px rgba(255, 193, 7, 0.3);\n");
      out.write("        }\n");
      out.write("\n");
      out.write("        .btn-warning:hover {\n");
      out.write("            transform: translateY(-3px);\n");
      out.write("            box-shadow: 0 12px 35px rgba(255, 193, 7, 0.4);\n");
      out.write("        }\n");
      out.write("\n");
      out.write("        .btn-danger {\n");
      out.write("            background: var(--gradient-danger);\n");
      out.write("            color: var(--white);\n");
      out.write("            box-shadow: 0 8px 25px rgba(244, 67, 54, 0.3);\n");
      out.write("        }\n");
      out.write("\n");
      out.write("        .btn-danger:hover {\n");
      out.write("            transform: translateY(-3px);\n");
      out.write("            box-shadow: 0 12px 35px rgba(244, 67, 54, 0.4);\n");
      out.write("        }\n");
      out.write("\n");
      out.write("        .btn-secondary {\n");
      out.write("            background: linear-gradient(135deg, var(--secondary-color) 0%, #c9b18c 100%);\n");
      out.write("            color: var(--text-dark);\n");
      out.write("            box-shadow: 0 8px 25px rgba(213, 196, 173, 0.3);\n");
      out.write("        }\n");
      out.write("\n");
      out.write("        .btn-secondary:hover {\n");
      out.write("            transform: translateY(-3px);\n");
      out.write("            box-shadow: 0 12px 35px rgba(213, 196, 173, 0.4);\n");
      out.write("        }\n");
      out.write("\n");
      out.write("        .btn-small {\n");
      out.write("            padding: 12px 20px;\n");
      out.write("            font-size: 0.9em;\n");
      out.write("        }\n");
      out.write("\n");
      out.write("        /* Panel Grid Mejorado */\n");
      out.write("        .panel-grid {\n");
      out.write("            display: grid;\n");
      out.write("            grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));\n");
      out.write("            gap: 25px;\n");
      out.write("            margin: 30px 0;\n");
      out.write("        }\n");
      out.write("\n");
      out.write("        .card {\n");
      out.write("            background: var(--white);\n");
      out.write("            padding: 30px;\n");
      out.write("            border-radius: var(--radius);\n");
      out.write("            box-shadow: var(--shadow);\n");
      out.write("            border: 1px solid rgba(0, 0, 0, 0.05);\n");
      out.write("            transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);\n");
      out.write("            position: relative;\n");
      out.write("            overflow: hidden;\n");
      out.write("            animation: fadeInUp 0.8s ease-out;\n");
      out.write("        }\n");
      out.write("\n");
      out.write("        @keyframes fadeInUp {\n");
      out.write("            from {\n");
      out.write("                opacity: 0;\n");
      out.write("                transform: translateY(30px);\n");
      out.write("            }\n");
      out.write("            to {\n");
      out.write("                opacity: 1;\n");
      out.write("                transform: translateY(0);\n");
      out.write("            }\n");
      out.write("        }\n");
      out.write("\n");
      out.write("        .card::before {\n");
      out.write("            content: '';\n");
      out.write("            position: absolute;\n");
      out.write("            top: 0;\n");
      out.write("            left: 0;\n");
      out.write("            right: 0;\n");
      out.write("            height: 4px;\n");
      out.write("            background: var(--gradient-primary);\n");
      out.write("        }\n");
      out.write("\n");
      out.write("        .card:hover {\n");
      out.write("            transform: translateY(-5px);\n");
      out.write("            box-shadow: 0 15px 40px rgba(0,0,0,0.15);\n");
      out.write("        }\n");
      out.write("\n");
      out.write("        .card-header {\n");
      out.write("            display: flex;\n");
      out.write("            align-items: center;\n");
      out.write("            gap: 15px;\n");
      out.write("            margin-bottom: 20px;\n");
      out.write("        }\n");
      out.write("\n");
      out.write("        .card-icon {\n");
      out.write("            font-size: 2.5em;\n");
      out.write("            width: 60px;\n");
      out.write("            height: 60px;\n");
      out.write("            display: flex;\n");
      out.write("            align-items: center;\n");
      out.write("            justify-content: center;\n");
      out.write("            background: var(--primary-light);\n");
      out.write("            border-radius: 50%;\n");
      out.write("            flex-shrink: 0;\n");
      out.write("        }\n");
      out.write("\n");
      out.write("        .card-title {\n");
      out.write("            font-size: 1.4em;\n");
      out.write("            font-weight: 700;\n");
      out.write("            color: var(--text-dark);\n");
      out.write("            margin-bottom: 5px;\n");
      out.write("        }\n");
      out.write("\n");
      out.write("        .card-description {\n");
      out.write("            color: var(--text-light);\n");
      out.write("            font-size: 0.95em;\n");
      out.write("            line-height: 1.6;\n");
      out.write("            margin-bottom: 25px;\n");
      out.write("        }\n");
      out.write("\n");
      out.write("        /* Form Styles Mejorados */\n");
      out.write("        .form-group {\n");
      out.write("            margin-bottom: 20px;\n");
      out.write("        }\n");
      out.write("\n");
      out.write("        .form-label {\n");
      out.write("            display: block;\n");
      out.write("            font-weight: 600;\n");
      out.write("            color: var(--text-dark);\n");
      out.write("            margin-bottom: 8px;\n");
      out.write("            font-size: 0.95em;\n");
      out.write("            display: flex;\n");
      out.write("            align-items: center;\n");
      out.write("            gap: 8px;\n");
      out.write("        }\n");
      out.write("\n");
      out.write("        .form-input {\n");
      out.write("            width: 100%;\n");
      out.write("            padding: 14px 16px;\n");
      out.write("            border: 2px solid #e0e0e0;\n");
      out.write("            border-radius: var(--radius);\n");
      out.write("            font-size: 1em;\n");
      out.write("            background: #f9f9f9;\n");
      out.write("            transition: all 0.3s ease;\n");
      out.write("            font-family: inherit;\n");
      out.write("        }\n");
      out.write("\n");
      out.write("        .form-input:focus {\n");
      out.write("            outline: none;\n");
      out.write("            border-color: var(--primary-color);\n");
      out.write("            background: var(--white);\n");
      out.write("            box-shadow: 0 0 0 4px rgba(171, 203, 213, 0.2);\n");
      out.write("        }\n");
      out.write("\n");
      out.write("        .form-help {\n");
      out.write("            display: block;\n");
      out.write("            margin-top: 6px;\n");
      out.write("            color: var(--text-light);\n");
      out.write("            font-size: 0.85em;\n");
      out.write("            font-style: italic;\n");
      out.write("        }\n");
      out.write("\n");
      out.write("        .card-actions {\n");
      out.write("            display: flex;\n");
      out.write("            gap: 12px;\n");
      out.write("            flex-wrap: wrap;\n");
      out.write("        }\n");
      out.write("\n");
      out.write("        .card-actions .btn {\n");
      out.write("            flex: 1;\n");
      out.write("            min-width: 120px;\n");
      out.write("            justify-content: center;\n");
      out.write("        }\n");
      out.write("\n");
      out.write("        /* Mensajes de estado mejorados */\n");
      out.write("        .mensaje {\n");
      out.write("            padding: 20px 25px;\n");
      out.write("            margin: 0 0 30px 0;\n");
      out.write("            border-radius: var(--radius);\n");
      out.write("            border-left: 4px solid;\n");
      out.write("            font-size: 1em;\n");
      out.write("            box-shadow: var(--shadow);\n");
      out.write("            animation: slideInDown 0.5s ease-out;\n");
      out.write("        }\n");
      out.write("\n");
      out.write("        @keyframes slideInDown {\n");
      out.write("            from {\n");
      out.write("                opacity: 0;\n");
      out.write("                transform: translateY(-20px);\n");
      out.write("            }\n");
      out.write("            to {\n");
      out.write("                opacity: 1;\n");
      out.write("                transform: translateY(0);\n");
      out.write("            }\n");
      out.write("        }\n");
      out.write("\n");
      out.write("        .exito {\n");
      out.write("            background: linear-gradient(135deg, #f0f9f4 0%, #e8f5e8 100%);\n");
      out.write("            border-left-color: var(--success-color);\n");
      out.write("            color: #1e7e34;\n");
      out.write("        }\n");
      out.write("\n");
      out.write("        .error {\n");
      out.write("            background: linear-gradient(135deg, #fdf2f2 0%, #fde8e8 100%);\n");
      out.write("            border-left-color: var(--danger-color);\n");
      out.write("            color: #c53030;\n");
      out.write("        }\n");
      out.write("\n");
      out.write("        .warning {\n");
      out.write("            background: linear-gradient(135deg, #fff8e1 0%, #ffecb3 100%);\n");
      out.write("            border-left-color: var(--warning-color);\n");
      out.write("            color: #856404;\n");
      out.write("        }\n");
      out.write("\n");
      out.write("        .info {\n");
      out.write("            background: linear-gradient(135deg, #f0f7ff 0%, #e6f3ff 100%);\n");
      out.write("            border-left-color: var(--info-color);\n");
      out.write("            color: var(--text-dark);\n");
      out.write("        }\n");
      out.write("\n");
      out.write("        /* Warning Cards */\n");
      out.write("        .warning-card {\n");
      out.write("            background: linear-gradient(135deg, #fff8e1 0%, #ffecb3 100%);\n");
      out.write("            border: 2px dashed var(--warning-color);\n");
      out.write("            border-radius: var(--radius);\n");
      out.write("            padding: 25px;\n");
      out.write("            margin: 25px 0;\n");
      out.write("            text-align: center;\n");
      out.write("            animation: pulse 2s infinite;\n");
      out.write("        }\n");
      out.write("\n");
      out.write("        @keyframes pulse {\n");
      out.write("            0% { transform: scale(1); }\n");
      out.write("            50% { transform: scale(1.02); }\n");
      out.write("            100% { transform: scale(1); }\n");
      out.write("        }\n");
      out.write("\n");
      out.write("        .warning-icon {\n");
      out.write("            font-size: 3em;\n");
      out.write("            margin-bottom: 15px;\n");
      out.write("            display: block;\n");
      out.write("        }\n");
      out.write("\n");
      out.write("        .warning-title {\n");
      out.write("            font-size: 1.4em;\n");
      out.write("            font-weight: 700;\n");
      out.write("            color: var(--text-dark);\n");
      out.write("            margin-bottom: 10px;\n");
      out.write("        }\n");
      out.write("\n");
      out.write("        .warning-description {\n");
      out.write("            color: var(--text-light);\n");
      out.write("            font-size: 1em;\n");
      out.write("            line-height: 1.6;\n");
      out.write("        }\n");
      out.write("\n");
      out.write("        /* System Status */\n");
      out.write("        .system-status {\n");
      out.write("            background: var(--white);\n");
      out.write("            padding: 25px;\n");
      out.write("            border-radius: var(--radius);\n");
      out.write("            box-shadow: var(--shadow);\n");
      out.write("            margin-bottom: 30px;\n");
      out.write("            animation: fadeInUp 0.8s ease-out;\n");
      out.write("        }\n");
      out.write("\n");
      out.write("        .status-grid {\n");
      out.write("            display: grid;\n");
      out.write("            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));\n");
      out.write("            gap: 20px;\n");
      out.write("            margin-top: 20px;\n");
      out.write("        }\n");
      out.write("\n");
      out.write("        .status-item {\n");
      out.write("            text-align: center;\n");
      out.write("            padding: 20px;\n");
      out.write("            border-radius: var(--radius);\n");
      out.write("            background: #f8f9fa;\n");
      out.write("            transition: all 0.3s ease;\n");
      out.write("        }\n");
      out.write("\n");
      out.write("        .status-item:hover {\n");
      out.write("            transform: translateY(-3px);\n");
      out.write("            box-shadow: 0 8px 25px rgba(0,0,0,0.1);\n");
      out.write("        }\n");
      out.write("\n");
      out.write("        .status-icon {\n");
      out.write("            font-size: 2em;\n");
      out.write("            margin-bottom: 10px;\n");
      out.write("            display: block;\n");
      out.write("        }\n");
      out.write("\n");
      out.write("        .status-label {\n");
      out.write("            font-weight: 600;\n");
      out.write("            color: var(--text-dark);\n");
      out.write("            margin-bottom: 5px;\n");
      out.write("        }\n");
      out.write("\n");
      out.write("        .status-value {\n");
      out.write("            font-size: 1.2em;\n");
      out.write("            font-weight: 700;\n");
      out.write("            color: var(--primary-dark);\n");
      out.write("        }\n");
      out.write("\n");
      out.write("        /* Responsive Design */\n");
      out.write("        @media (max-width: 1200px) {\n");
      out.write("            .container {\n");
      out.write("                flex-direction: column;\n");
      out.write("            }\n");
      out.write("            .sidebar {\n");
      out.write("                width: 100%;\n");
      out.write("                height: auto;\n");
      out.write("            }\n");
      out.write("            .menu {\n");
      out.write("                display: flex;\n");
      out.write("                flex-wrap: wrap;\n");
      out.write("                justify-content: center;\n");
      out.write("                padding: 15px;\n");
      out.write("            }\n");
      out.write("            .menu-item {\n");
      out.write("                flex: 1 0 200px;\n");
      out.write("                justify-content: center;\n");
      out.write("            }\n");
      out.write("            .menu-section {\n");
      out.write("                display: none;\n");
      out.write("            }\n");
      out.write("        }\n");
      out.write("\n");
      out.write("        @media (max-width: 768px) {\n");
      out.write("            .main-content {\n");
      out.write("                padding: 20px;\n");
      out.write("            }\n");
      out.write("            .header-top {\n");
      out.write("                flex-direction: column;\n");
      out.write("                gap: 20px;\n");
      out.write("                align-items: flex-start;\n");
      out.write("            }\n");
      out.write("            .header-actions {\n");
      out.write("                width: 100%;\n");
      out.write("                justify-content: center;\n");
      out.write("            }\n");
      out.write("            .panel-grid {\n");
      out.write("                grid-template-columns: 1fr;\n");
      out.write("            }\n");
      out.write("            .card-actions {\n");
      out.write("                flex-direction: column;\n");
      out.write("            }\n");
      out.write("            .card-actions .btn {\n");
      out.write("                width: 100%;\n");
      out.write("            }\n");
      out.write("            .status-grid {\n");
      out.write("                grid-template-columns: repeat(2, 1fr);\n");
      out.write("            }\n");
      out.write("        }\n");
      out.write("\n");
      out.write("        @media (max-width: 480px) {\n");
      out.write("            .header {\n");
      out.write("                padding: 20px;\n");
      out.write("            }\n");
      out.write("            .main-content {\n");
      out.write("                padding: 15px;\n");
      out.write("            }\n");
      out.write("            .status-grid {\n");
      out.write("                grid-template-columns: 1fr;\n");
      out.write("            }\n");
      out.write("        }\n");
      out.write("\n");
      out.write("        /* Loading animation */\n");
      out.write("        .loading-dots {\n");
      out.write("            display: inline-flex;\n");
      out.write("            gap: 4px;\n");
      out.write("        }\n");
      out.write("\n");
      out.write("        .loading-dots span {\n");
      out.write("            width: 8px;\n");
      out.write("            height: 8px;\n");
      out.write("            border-radius: 50%;\n");
      out.write("            background: var(--primary-color);\n");
      out.write("            animation: loading 1.4s infinite ease-in-out;\n");
      out.write("        }\n");
      out.write("\n");
      out.write("        .loading-dots span:nth-child(1) { animation-delay: -0.32s; }\n");
      out.write("        .loading-dots span:nth-child(2) { animation-delay: -0.16s; }\n");
      out.write("\n");
      out.write("        @keyframes loading {\n");
      out.write("            0%, 80%, 100% { transform: scale(0); }\n");
      out.write("            40% { transform: scale(1); }\n");
      out.write("        }\n");
      out.write("    </style>\n");
      out.write("</head>\n");
      out.write("<body>\n");
      out.write("    <div class=\"container\">\n");
      out.write("        <!-- Sidebar Menu - Coherente con Dashboard -->\n");
      out.write("        <div class=\"sidebar\">\n");
      out.write("            <div class=\"logo\">\n");
      out.write("                <h1><span class=\"logo-icon\">🐕</span> Terán Vet</h1>\n");
      out.write("            </div>\n");
      out.write("            \n");
      out.write("            <div class=\"user-info\">\n");
      out.write("                <div class=\"user-avatar\">JS</div>\n");
      out.write("                <div class=\"user-details\">\n");
      out.write("                    <h3>Juan Sánchez</h3>\n");
      out.write("                    <p>Administrador del Sistema</p>\n");
      out.write("                </div>\n");
      out.write("            </div>\n");
      out.write("            \n");
      out.write("            <ul class=\"menu\">\n");
      out.write("                <!-- Núcleo del Negocio -->\n");
      out.write("                <div class=\"menu-section\">Núcleo del Negocio</div>\n");
      out.write("                <li class=\"menu-item\">\n");
      out.write("                    <a href=\"dashboard.jsp\">\n");
      out.write("                        <span class=\"menu-icon\">📊</span>\n");
      out.write("                        <span>Dashboard</span>\n");
      out.write("                    </a>\n");
      out.write("                </li>\n");
      out.write("                <li class=\"menu-item\">\n");
      out.write("                    <a href=\"CitaControlador?accion=todasCitas\">\n");
      out.write("                        <span class=\"menu-icon\">📅</span>\n");
      out.write("                        <span>Citas</span>\n");
      out.write("                    </a>\n");
      out.write("                </li>\n");
      out.write("                <li class=\"menu-item\">\n");
      out.write("                    <a href=\"AtencionControlador\">\n");
      out.write("                        <span class=\"menu-icon\">🎯</span>\n");
      out.write("                        <span>Atención</span>\n");
      out.write("                    </a>\n");
      out.write("                </li>\n");
      out.write("                \n");
      out.write("                <!-- Gestión de Clientes -->\n");
      out.write("                <div class=\"menu-section\">Gestión de Clientes</div>\n");
      out.write("                <li class=\"menu-item\">\n");
      out.write("                    <a href=\"Clientes.jsp\">\n");
      out.write("                        <span class=\"menu-icon\">👥</span>\n");
      out.write("                        <span>Clientes</span>\n");
      out.write("                    </a>\n");
      out.write("                </li>\n");
      out.write("                <li class=\"menu-item\">\n");
      out.write("                    <a href=\"ListaMascotas.jsp\">\n");
      out.write("                        <span class=\"menu-icon\">🐾</span>\n");
      out.write("                        <span>Mascotas</span>\n");
      out.write("                    </a>\n");
      out.write("                </li>\n");
      out.write("                \n");
      out.write("                <!-- Personal y Operaciones -->\n");
      out.write("                <div class=\"menu-section\">Personal y Operaciones</div>\n");
      out.write("                <li class=\"menu-item\">\n");
      out.write("                    <a href=\"GroomerControlador\">\n");
      out.write("                        <span class=\"menu-icon\">✂️</span>\n");
      out.write("                        <span>Groomers</span>\n");
      out.write("                    </a>\n");
      out.write("                </li>\n");
      out.write("                <li class=\"menu-item\">\n");
      out.write("                    <a href=\"SucursalControlador?accion=listar\">\n");
      out.write("                        <span class=\"menu-icon\">🏢</span>\n");
      out.write("                        <span>Sucursales</span>\n");
      out.write("                    </a>\n");
      out.write("                </li>\n");
      out.write("                \n");
      out.write("                <!-- Finanzas -->\n");
      out.write("                <div class=\"menu-section\">Finanzas</div>\n");
      out.write("                <li class=\"menu-item\">\n");
      out.write("                    <a href=\"pagos.jsp\">\n");
      out.write("                        <span class=\"menu-icon\">💳</span>\n");
      out.write("                        <span>Pagos</span>\n");
      out.write("                    </a>\n");
      out.write("                </li>\n");
      out.write("                <li class=\"menu-item\">\n");
      out.write("                    <a href=\"facturas.jsp\">\n");
      out.write("                        <span class=\"menu-icon\">🧾</span>\n");
      out.write("                        <span>Facturas</span>\n");
      out.write("                    </a>\n");
      out.write("                </li>\n");
      out.write("                \n");
      out.write("                <!-- Análisis y Control -->\n");
      out.write("                <div class=\"menu-section\">Análisis y Control</div>\n");
      out.write("                <li class=\"menu-item\">\n");
      out.write("                    <a href=\"reportes.jsp\">\n");
      out.write("                        <span class=\"menu-icon\">📈</span>\n");
      out.write("                        <span>Reportes</span>\n");
      out.write("                    </a>\n");
      out.write("                </li>\n");
      out.write("                <li class=\"menu-item\">\n");
      out.write("                    <a href=\"auditoria.jsp\">\n");
      out.write("                        <span class=\"menu-icon\">🔍</span>\n");
      out.write("                        <span>Auditoria</span>\n");
      out.write("                    </a>\n");
      out.write("                </li>\n");
      out.write("                \n");
      out.write("                <!-- Sistema -->\n");
      out.write("                <div class=\"menu-section\">Sistema</div>\n");
      out.write("                <li class=\"menu-item active\">\n");
      out.write("                    <a href=\"UtilidadesControlador\">\n");
      out.write("                        <span class=\"menu-icon\">🔧</span>\n");
      out.write("                        <span>Utilidades</span>\n");
      out.write("                    </a>\n");
      out.write("                </li>\n");
      out.write("                <li class=\"menu-item\">\n");
      out.write("                    <a href=\"configuracion.jsp\">\n");
      out.write("                        <span class=\"menu-icon\">⚙️</span>\n");
      out.write("                        <span>Configuración</span>\n");
      out.write("                    </a>\n");
      out.write("                </li>\n");
      out.write("            </ul>\n");
      out.write("        </div>\n");
      out.write("\n");
      out.write("        <!-- Main Content -->\n");
      out.write("        <div class=\"content\">\n");
      out.write("            <div class=\"header\">\n");
      out.write("                <div class=\"header-top\">\n");
      out.write("                    <div class=\"welcome\">\n");
      out.write("                        <h1>🔧 Panel de Utilidades del Sistema</h1>\n");
      out.write("                        <p>Herramientas de mantenimiento y administración del sistema</p>\n");
      out.write("                    </div>\n");
      out.write("                    <div class=\"header-actions\">\n");
      out.write("                        <a href=\"dashboard.jsp\" class=\"btn btn-primary\">\n");
      out.write("                            <span>📊 Ir al Dashboard</span>\n");
      out.write("                        </a>\n");
      out.write("                        <button onclick=\"ejecutarDiagnostico()\" class=\"btn btn-warning\">\n");
      out.write("                            <span>🔍 Diagnóstico Rápido</span>\n");
      out.write("                        </button>\n");
      out.write("                    </div>\n");
      out.write("                </div>\n");
      out.write("            </div>\n");
      out.write("\n");
      out.write("            <div class=\"main-content\">\n");
      out.write("                <!-- Mensajes -->\n");
      out.write("                ");
 if (request.getAttribute("mensaje") != null) { 
                    String mensaje = (String) request.getAttribute("mensaje");
                    String tipoClase = mensaje.contains("❌") ? "error" : 
                                      mensaje.contains("⚠️") ? "warning" : 
                                      mensaje.contains("✅") ? "exito" : "info";
                
      out.write("\n");
      out.write("                    <div class=\"mensaje ");
      out.print( tipoClase );
      out.write("\">\n");
      out.write("                        <strong>");
      out.print( mensaje );
      out.write("</strong>\n");
      out.write("                    </div>\n");
      out.write("                ");
 } 
      out.write("\n");
      out.write("\n");
      out.write("                <!-- Advertencia de Operaciones Críticas -->\n");
      out.write("                <div class=\"warning-card\">\n");
      out.write("                    <span class=\"warning-icon\">⚠️</span>\n");
      out.write("                    <div class=\"warning-title\">Operaciones Críticas</div>\n");
      out.write("                    <div class=\"warning-description\">\n");
      out.write("                        Estas herramientas realizan operaciones que afectan directamente al sistema. \n");
      out.write("                        Asegúrate de tener un backup reciente antes de ejecutar cualquier procedimiento.\n");
      out.write("                    </div>\n");
      out.write("                </div>\n");
      out.write("\n");
      out.write("                <!-- Estado del Sistema -->\n");
      out.write("                <div class=\"system-status\">\n");
      out.write("                    <h3 style=\"color: var(--text-dark); margin-bottom: 20px; display: flex; align-items: center; gap: 10px;\">\n");
      out.write("                        <span>📊</span> Estado del Sistema\n");
      out.write("                    </h3>\n");
      out.write("                    <div class=\"status-grid\">\n");
      out.write("                        <div class=\"status-item\">\n");
      out.write("                            <span class=\"status-icon\">💾</span>\n");
      out.write("                            <div class=\"status-label\">Espacio en Disco</div>\n");
      out.write("                            <div class=\"status-value\" id=\"diskSpace\">85%</div>\n");
      out.write("                        </div>\n");
      out.write("                        <div class=\"status-item\">\n");
      out.write("                            <span class=\"status-icon\">⚡</span>\n");
      out.write("                            <div class=\"status-label\">Rendimiento</div>\n");
      out.write("                            <div class=\"status-value\" id=\"performance\">92%</div>\n");
      out.write("                        </div>\n");
      out.write("                        <div class=\"status-item\">\n");
      out.write("                            <span class=\"status-icon\">🔒</span>\n");
      out.write("                            <div class=\"status-label\">Seguridad</div>\n");
      out.write("                            <div class=\"status-value\" id=\"security\">100%</div>\n");
      out.write("                        </div>\n");
      out.write("                        <div class=\"status-item\">\n");
      out.write("                            <span class=\"status-icon\">🔄</span>\n");
      out.write("                            <div class=\"status-label\">Último Backup</div>\n");
      out.write("                            <div class=\"status-value\" id=\"lastBackup\">Hoy</div>\n");
      out.write("                        </div>\n");
      out.write("                    </div>\n");
      out.write("                </div>\n");
      out.write("\n");
      out.write("                <!-- Panel de Utilidades -->\n");
      out.write("                <div class=\"panel-grid\">\n");
      out.write("                    <!-- Limpieza de Datos -->\n");
      out.write("                    <div class=\"card\">\n");
      out.write("                        <div class=\"card-header\">\n");
      out.write("                            <div class=\"card-icon\">🧹</div>\n");
      out.write("                            <div>\n");
      out.write("                                <div class=\"card-title\">Limpieza de Datos</div>\n");
      out.write("                                <div class=\"card-description\">\n");
      out.write("                                    Elimina datos temporales y registros antiguos para optimizar el rendimiento del sistema y liberar espacio de almacenamiento.\n");
      out.write("                                </div>\n");
      out.write("                            </div>\n");
      out.write("                        </div>\n");
      out.write("                        <form action=\"UtilidadesControlador\" method=\"post\" onsubmit=\"return confirmarLimpieza()\">\n");
      out.write("                            <input type=\"hidden\" name=\"accion\" value=\"limpiar\">\n");
      out.write("                            <div class=\"form-group\">\n");
      out.write("                                <label class=\"form-label\">\n");
      out.write("                                    <span>📅</span>\n");
      out.write("                                    Días de antigüedad\n");
      out.write("                                </label>\n");
      out.write("                                <input type=\"number\" name=\"dias\" value=\"30\" min=\"1\" max=\"365\" \n");
      out.write("                                       class=\"form-input\" required>\n");
      out.write("                                <span class=\"form-help\">Eliminar datos más antiguos que X días</span>\n");
      out.write("                            </div>\n");
      out.write("                            <div class=\"card-actions\">\n");
      out.write("                                <button type=\"submit\" class=\"btn btn-danger\">\n");
      out.write("                                    <span>🧹 Ejecutar Limpieza</span>\n");
      out.write("                                </button>\n");
      out.write("                                <button type=\"button\" class=\"btn btn-secondary\" onclick=\"simularLimpieza()\">\n");
      out.write("                                    <span>🔍 Simular</span>\n");
      out.write("                                </button>\n");
      out.write("                            </div>\n");
      out.write("                        </form>\n");
      out.write("                    </div>\n");
      out.write("\n");
      out.write("                    <!-- Backup del Sistema -->\n");
      out.write("                    <div class=\"card\">\n");
      out.write("                        <div class=\"card-header\">\n");
      out.write("                            <div class=\"card-icon\">💾</div>\n");
      out.write("                            <div>\n");
      out.write("                                <div class=\"card-title\">Backup del Sistema</div>\n");
      out.write("                                <div class=\"card-description\">\n");
      out.write("                                    Genera una copia de seguridad completa de la base de datos y archivos críticos del sistema para prevenir pérdida de datos.\n");
      out.write("                                </div>\n");
      out.write("                            </div>\n");
      out.write("                        </div>\n");
      out.write("                        <form action=\"UtilidadesControlador\" method=\"post\">\n");
      out.write("                            <input type=\"hidden\" name=\"accion\" value=\"backup\">\n");
      out.write("                            <div class=\"form-group\">\n");
      out.write("                                <label class=\"form-label\">\n");
      out.write("                                    <span>📅</span>\n");
      out.write("                                    Fecha del backup\n");
      out.write("                                </label>\n");
      out.write("                                <input type=\"date\" name=\"fecha\" value=\"");
      out.print( new java.sql.Date(System.currentTimeMillis()) );
      out.write("\" \n");
      out.write("                                       class=\"form-input\" required>\n");
      out.write("                            </div>\n");
      out.write("                            <div class=\"card-actions\">\n");
      out.write("                                <button type=\"submit\" class=\"btn btn-success\">\n");
      out.write("                                    <span>💾 Generar Backup</span>\n");
      out.write("                                </button>\n");
      out.write("                                <button type=\"button\" class=\"btn btn-secondary\" onclick=\"verBackups()\">\n");
      out.write("                                    <span>📋 Ver Backups</span>\n");
      out.write("                                </button>\n");
      out.write("                            </div>\n");
      out.write("                        </form>\n");
      out.write("                    </div>\n");
      out.write("\n");
      out.write("                    <!-- Verificación de Integridad -->\n");
      out.write("                    <div class=\"card\">\n");
      out.write("                        <div class=\"card-header\">\n");
      out.write("                            <div class=\"card-icon\">🔍</div>\n");
      out.write("                            <div>\n");
      out.write("                                <div class=\"card-title\">Verificación de Integridad</div>\n");
      out.write("                                <div class=\"card-description\">\n");
      out.write("                                    Revisa y corrige inconsistencias en los datos del sistema, incluyendo totales de facturas y relaciones entre tablas.\n");
      out.write("                                </div>\n");
      out.write("                            </div>\n");
      out.write("                        </div>\n");
      out.write("                        <form action=\"UtilidadesControlador\" method=\"post\">\n");
      out.write("                            <input type=\"hidden\" name=\"accion\" value=\"recalcular\">\n");
      out.write("                            <div class=\"card-actions\">\n");
      out.write("                                <button type=\"submit\" class=\"btn btn-warning\">\n");
      out.write("                                    <span>🔍 Verificar Integridad</span>\n");
      out.write("                                </button>\n");
      out.write("                                <button type=\"button\" class=\"btn btn-secondary\" onclick=\"verificarFacturas()\">\n");
      out.write("                                    <span>🧮 Revisar Facturas</span>\n");
      out.write("                                </button>\n");
      out.write("                            </div>\n");
      out.write("                        </form>\n");
      out.write("                    </div>\n");
      out.write("\n");
      out.write("                    <!-- Auditoría del Sistema -->\n");
      out.write("                    <div class=\"card\">\n");
      out.write("                        <div class=\"card-header\">\n");
      out.write("                            <div class=\"card-icon\">📋</div>\n");
      out.write("                            <div>\n");
      out.write("                                <div class=\"card-title\">Auditoría del Sistema</div>\n");
      out.write("                                <div class=\"card-description\">\n");
      out.write("                                    Consulta los registros de actividad, accesos al sistema y cambios realizados para mantener el control y trazabilidad.\n");
      out.write("                                </div>\n");
      out.write("                            </div>\n");
      out.write("                        </div>\n");
      out.write("                        <form action=\"UtilidadesControlador\" method=\"get\">\n");
      out.write("                            <input type=\"hidden\" name=\"accion\" value=\"auditoria\">\n");
      out.write("                            <div class=\"form-group\">\n");
      out.write("                                <label class=\"form-label\">\n");
      out.write("                                    <span>📅</span>\n");
      out.write("                                    Últimos días\n");
      out.write("                                </label>\n");
      out.write("                                <input type=\"number\" name=\"dias\" value=\"7\" min=\"1\" max=\"30\" \n");
      out.write("                                       class=\"form-input\" required>\n");
      out.write("                            </div>\n");
      out.write("                            <div class=\"card-actions\">\n");
      out.write("                                <button type=\"submit\" class=\"btn btn-primary\">\n");
      out.write("                                    <span>📋 Ver Logs de Auditoría</span>\n");
      out.write("                                </button>\n");
      out.write("                            </div>\n");
      out.write("                        </form>\n");
      out.write("                    </div>\n");
      out.write("\n");
      out.write("                    <!-- Gestión de Notificaciones -->\n");
      out.write("                    <div class=\"card\">\n");
      out.write("                        <div class=\"card-header\">\n");
      out.write("                            <div class=\"card-icon\">🔔</div>\n");
      out.write("                            <div>\n");
      out.write("                                <div class=\"card-title\">Notificaciones</div>\n");
      out.write("                                <div class=\"card-description\">\n");
      out.write("                                    Gestiona las notificaciones pendientes de envío a clientes y revisa el historial de comunicaciones del sistema.\n");
      out.write("                                </div>\n");
      out.write("                            </div>\n");
      out.write("                        </div>\n");
      out.write("                        <div class=\"card-actions\">\n");
      out.write("                            <a href=\"UtilidadesControlador?accion=notificaciones\" class=\"btn btn-primary\">\n");
      out.write("                                <span>🔔 Ver Notificaciones</span>\n");
      out.write("                            </a>\n");
      out.write("                            <button type=\"button\" class=\"btn btn-secondary\" onclick=\"enviarNotificaciones()\">\n");
      out.write("                                <span>📤 Enviar Pendientes</span>\n");
      out.write("                            </button>\n");
      out.write("                        </div>\n");
      out.write("                    </div>\n");
      out.write("\n");
      out.write("                    <!-- Reporte de Problemas -->\n");
      out.write("                    <div class=\"card\">\n");
      out.write("                        <div class=\"card-header\">\n");
      out.write("                            <div class=\"card-icon\">⚠️</div>\n");
      out.write("                            <div>\n");
      out.write("                                <div class=\"card-title\">Reporte de Problemas</div>\n");
      out.write("                                <div class=\"card-description\">\n");
      out.write("                                    Identifica y corrige problemas comunes en el sistema, como facturas con inconsistencias o datos corruptos.\n");
      out.write("                                </div>\n");
      out.write("                            </div>\n");
      out.write("                        </div>\n");
      out.write("                        <div class=\"card-actions\">\n");
      out.write("                            <a href=\"UtilidadesControlador?accion=facturasProblema\" class=\"btn btn-danger\">\n");
      out.write("                                <span>⚠️ Revisar Problemas</span>\n");
      out.write("                            </a>\n");
      out.write("                            <button type=\"button\" class=\"btn btn-secondary\" onclick=\"generarReporte()\">\n");
      out.write("                                <span>📄 Generar Reporte</span>\n");
      out.write("                            </button>\n");
      out.write("                        </div>\n");
      out.write("                    </div>\n");
      out.write("                </div>\n");
      out.write("\n");
      out.write("                <!-- Navegación -->\n");
      out.write("                <div style=\"display: flex; gap: 15px; margin-top: 40px; justify-content: center; flex-wrap: wrap;\">\n");
      out.write("                    <a href=\"dashboard.jsp\" class=\"btn btn-primary\">\n");
      out.write("                        <span>📊 Volver al Dashboard</span>\n");
      out.write("                    </a>\n");
      out.write("                    <a href=\"menuPrincipal.jsp\" class=\"btn btn-secondary\">\n");
      out.write("                        <span>🏠 Menú Principal</span>\n");
      out.write("                    </a>\n");
      out.write("                    <button onclick=\"ejecutarMantenimiento()\" class=\"btn btn-success\">\n");
      out.write("                        <span>🛠️ Mantenimiento Completo</span>\n");
      out.write("                    </button>\n");
      out.write("                </div>\n");
      out.write("            </div>\n");
      out.write("        </div>\n");
      out.write("    </div>\n");
      out.write("\n");
      out.write("    <script>\n");
      out.write("        // Script mejorado para el panel de utilidades\n");
      out.write("        document.addEventListener('DOMContentLoaded', function() {\n");
      out.write("            // Actualizar estado del sistema\n");
      out.write("            actualizarEstadoSistema();\n");
      out.write("\n");
      out.write("            // Efectos de hover para las cards\n");
      out.write("            const cards = document.querySelectorAll('.card');\n");
      out.write("            cards.forEach((card, index) => {\n");
      out.write("                card.style.animationDelay = (index * 0.1) + 's';\n");
      out.write("            });\n");
      out.write("\n");
      out.write("            // Validación de formularios\n");
      out.write("            const forms = document.querySelectorAll('form');\n");
      out.write("            forms.forEach(form => {\n");
      out.write("                form.addEventListener('submit', function(e) {\n");
      out.write("                    const submitBtn = this.querySelector('button[type=\"submit\"]');\n");
      out.write("                    if (submitBtn) {\n");
      out.write("                        const originalText = submitBtn.innerHTML;\n");
      out.write("                        submitBtn.innerHTML = '<span class=\"loading-dots\"><span></span><span></span><span></span></span> Procesando...';\n");
      out.write("                        submitBtn.disabled = true;\n");
      out.write("\n");
      out.write("                        // Restaurar después de 3 segundos (en producción esto sería automático)\n");
      out.write("                        setTimeout(() => {\n");
      out.write("                            submitBtn.innerHTML = originalText;\n");
      out.write("                            submitBtn.disabled = false;\n");
      out.write("                        }, 3000);\n");
      out.write("                    }\n");
      out.write("                });\n");
      out.write("            });\n");
      out.write("        });\n");
      out.write("\n");
      out.write("        // Función para actualizar estado del sistema\n");
      out.write("        function actualizarEstadoSistema() {\n");
      out.write("            // Simular datos del sistema (en producción vendrían del servidor)\n");
      out.write("            const diskSpace = Math.floor(Math.random() * 30) + 70; // 70-100%\n");
      out.write("            const performance = Math.floor(Math.random() * 10) + 90; // 90-100%\n");
      out.write("            \n");
      out.write("            document.getElementById('diskSpace').textContent = diskSpace + '%';\n");
      out.write("            document.getElementById('performance').textContent = performance + '%';\n");
      out.write("            \n");
      out.write("            // Actualizar colores según el estado\n");
      out.write("            if (diskSpace > 90) {\n");
      out.write("                document.getElementById('diskSpace').style.color = '#c0392b';\n");
      out.write("            } else if (diskSpace > 80) {\n");
      out.write("                document.getElementById('diskSpace').style.color = '#e67e22';\n");
      out.write("            } else {\n");
      out.write("                document.getElementById('diskSpace').style.color = '#27ae60';\n");
      out.write("            }\n");
      out.write("        }\n");
      out.write("\n");
      out.write("        // Confirmación para operaciones críticas\n");
      out.write("        function confirmarLimpieza() {\n");
      out.write("            const dias = document.querySelector('input[name=\"dias\"]').value;\n");
      out.write("            return confirm(`⚠️ ¿Estás seguro de que deseas eliminar todos los datos más antiguos que ");
      out.write((java.lang.String) org.apache.jasper.runtime.PageContextImpl.evaluateExpression("${dias}", java.lang.String.class, (PageContext)_jspx_page_context, null));
      out.write(" días?\\n\\nEsta acción no se puede deshacer y puede afectar reportes históricos.`);\n");
      out.write("        }\n");
      out.write("\n");
      out.write("        // Funciones de utilidad\n");
      out.write("        function simularLimpieza() {\n");
      out.write("            const dias = document.querySelector('input[name=\"dias\"]').value;\n");
      out.write("            alert(`🔍 Simulación de limpieza:\\n\\n• Se eliminarían registros de más de ");
      out.write((java.lang.String) org.apache.jasper.runtime.PageContextImpl.evaluateExpression("${dias}", java.lang.String.class, (PageContext)_jspx_page_context, null));
      out.write(" días\\n• Se liberarían aproximadamente 150MB de espacio\\n• 2,345 registros serían afectados`);\n");
      out.write("        }\n");
      out.write("\n");
      out.write("        function verBackups() {\n");
      out.write("            alert('📋 Lista de backups disponibles:\\n\\n• backup_2024_01_15.zip (15/01/2024)\\n• backup_2024_01_08.zip (08/01/2024)\\n• backup_2024_01_01.zip (01/01/2024)');\n");
      out.write("        }\n");
      out.write("\n");
      out.write("        function verificarFacturas() {\n");
      out.write("            alert('🧮 Verificación de facturas:\\n\\n• 1,245 facturas procesadas\\n• 3 facturas con inconsistencias\\n• 0 facturas con montos incorrectos\\n• Sistema en buen estado');\n");
      out.write("        }\n");
      out.write("\n");
      out.write("        function enviarNotificaciones() {\n");
      out.write("            alert('📤 Enviando notificaciones pendientes...\\n\\n• 15 notificaciones enviadas\\n• 2 fallos en envío\\n• Proceso completado');\n");
      out.write("        }\n");
      out.write("\n");
      out.write("        function generarReporte() {\n");
      out.write("            alert('📄 Generando reporte de problemas...\\n\\n• Reporte generado: problemas_sistema.pdf\\n• 5 problemas identificados\\n• 3 soluciones recomendadas');\n");
      out.write("        }\n");
      out.write("\n");
      out.write("        function ejecutarDiagnostico() {\n");
      out.write("            const diagnosticBtn = document.querySelector('.btn-warning');\n");
      out.write("            const originalText = diagnosticBtn.innerHTML;\n");
      out.write("            diagnosticBtn.innerHTML = '<span class=\"loading-dots\"><span></span><span></span><span></span></span> Diagnosticando...';\n");
      out.write("            \n");
      out.write("            setTimeout(() => {\n");
      out.write("                diagnosticBtn.innerHTML = originalText;\n");
      out.write("                alert('🔍 Diagnóstico completado:\\n\\n✅ Base de datos: Óptimo\\n✅ Archivos del sistema: Intactos\\n✅ Configuración: Correcta\\n✅ Seguridad: Actualizada\\n\\n¡El sistema está en perfecto estado!');\n");
      out.write("            }, 2000);\n");
      out.write("        }\n");
      out.write("\n");
      out.write("        function ejecutarMantenimiento() {\n");
      out.write("            if (confirm('🛠️ ¿Ejecutar mantenimiento completo del sistema?\\n\\nEsto incluye:\\n• Limpieza de datos temporales\\n• Verificación de integridad\\n• Optimización de base de datos\\n• Generación de backup\\n\\n¿Continuar?')) {\n");
      out.write("                alert('🛠️ Mantenimiento iniciado...\\n\\nEl sistema realizará las siguientes tareas:\\n1. Limpieza de cache y temporales\\n2. Verificación de integridad de datos\\n3. Optimización de tablas\\n4. Generación de backup automático\\n5. Actualización de índices\\n\\nEl proceso puede tomar varios minutos.');\n");
      out.write("            }\n");
      out.write("        }\n");
      out.write("\n");
      out.write("        // Atajos de teclado\n");
      out.write("        document.addEventListener('keydown', function(e) {\n");
      out.write("            // Ctrl + D para diagnóstico\n");
      out.write("            if (e.ctrlKey && e.key === 'd') {\n");
      out.write("                e.preventDefault();\n");
      out.write("                ejecutarDiagnostico();\n");
      out.write("            }\n");
      out.write("            \n");
      out.write("            // Ctrl + B para backup\n");
      out.write("            if (e.ctrlKey && e.key === 'b') {\n");
      out.write("                e.preventDefault();\n");
      out.write("                document.querySelector('input[name=\"fecha\"]').focus();\n");
      out.write("            }\n");
      out.write("        });\n");
      out.write("\n");
      out.write("        // Actualizar estado cada 30 segundos\n");
      out.write("        setInterval(actualizarEstadoSistema, 30000);\n");
      out.write("    </script>\n");
      out.write("</body>\n");
      out.write("</html>");
    } catch (Throwable t) {
      if (!(t instanceof SkipPageException)){
        out = _jspx_out;
        if (out != null && out.getBufferSize() != 0)
          out.clearBuffer();
        if (_jspx_page_context != null) _jspx_page_context.handlePageException(t);
        else throw new ServletException(t);
      }
    } finally {
      _jspxFactory.releasePageContext(_jspx_page_context);
    }
  }
}
