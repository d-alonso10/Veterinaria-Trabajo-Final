package org.apache.jsp;

import javax.servlet.*;
import javax.servlet.http.*;
import javax.servlet.jsp.*;
import java.util.List;
import modelo.EstimacionTiempoDTO;

public final class listarEstimaciones_jsp extends org.apache.jasper.runtime.HttpJspBase
    implements org.apache.jasper.runtime.JspSourceDependent {

  private static final JspFactory _jspxFactory = JspFactory.getDefaultFactory();

  private static java.util.List<String> _jspx_dependants;

  private org.glassfish.jsp.api.ResourceInjector _jspx_resourceInjector;

  public java.util.List<String> getDependants() {
    return _jspx_dependants;
  }

  public void _jspService(HttpServletRequest request, HttpServletResponse response)
        throws java.io.IOException, ServletException {

    PageContext pageContext = null;
    HttpSession session = null;
    ServletContext application = null;
    ServletConfig config = null;
    JspWriter out = null;
    Object page = this;
    JspWriter _jspx_out = null;
    PageContext _jspx_page_context = null;

    try {
      response.setContentType("text/html;charset=UTF-8");
      pageContext = _jspxFactory.getPageContext(this, request, response,
      			null, true, 8192, true);
      _jspx_page_context = pageContext;
      application = pageContext.getServletContext();
      config = pageContext.getServletConfig();
      session = pageContext.getSession();
      out = pageContext.getOut();
      _jspx_out = out;
      _jspx_resourceInjector = (org.glassfish.jsp.api.ResourceInjector) application.getAttribute("com.sun.appserv.jsp.resource.injector");

      out.write("\n");
      out.write("\n");
      out.write("\n");
      out.write("<!DOCTYPE html>\n");
      out.write("<html lang=\"es\">\n");
      out.write("<head>\n");
      out.write("    <meta charset=\"UTF-8\">\n");
      out.write("    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n");
      out.write("    <title>Configuraci√≥n de Estimaciones - Sistema PetCare</title>\n");
      out.write("    <style>\n");
      out.write("        :root {\n");
      out.write("            --primary-color: #abcbd5;\n");
      out.write("            --primary-dark: #8fb6c1;\n");
      out.write("            --primary-light: #c5dce3;\n");
      out.write("            --secondary-color: #d5c4ad;\n");
      out.write("            --accent-color: #d5adc7;\n");
      out.write("            --success-color: #4CAF50;\n");
      out.write("            --warning-color: #FFC107;\n");
      out.write("            --danger-color: #F44336;\n");
      out.write("            --info-color: #2196F3;\n");
      out.write("            --text-dark: #2c3e50;\n");
      out.write("            --text-light: #5d6d7e;\n");
      out.write("            --bg-light: #f8f9fa;\n");
      out.write("            --white: #ffffff;\n");
      out.write("            --shadow: 0 8px 32px rgba(0,0,0,0.1);\n");
      out.write("            --radius: 16px;\n");
      out.write("            --gradient-primary: linear-gradient(135deg, var(--primary-color) 0%, var(--primary-dark) 100%);\n");
      out.write("            --gradient-success: linear-gradient(135deg, var(--success-color) 0%, #45a049 100%);\n");
      out.write("            --gradient-warning: linear-gradient(135deg, var(--warning-color) 0%, #ffb300 100%);\n");
      out.write("            --gradient-danger: linear-gradient(135deg, var(--danger-color) 0%, #d32f2f 100%);\n");
      out.write("        }\n");
      out.write("\n");
      out.write("        * {\n");
      out.write("            margin: 0;\n");
      out.write("            padding: 0;\n");
      out.write("            box-sizing: border-box;\n");
      out.write("            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;\n");
      out.write("        }\n");
      out.write("\n");
      out.write("        body {\n");
      out.write("            background: linear-gradient(135deg, #f5f7fa 0%, var(--primary-light) 100%);\n");
      out.write("            color: var(--text-dark);\n");
      out.write("            line-height: 1.6;\n");
      out.write("            min-height: 100vh;\n");
      out.write("        }\n");
      out.write("\n");
      out.write("        .container {\n");
      out.write("            display: flex;\n");
      out.write("            min-height: 100vh;\n");
      out.write("        }\n");
      out.write("\n");
      out.write("        /* Sidebar Styles - Coherente con Dashboard */\n");
      out.write("        .sidebar {\n");
      out.write("            width: 280px;\n");
      out.write("            background: var(--gradient-primary);\n");
      out.write("            color: var(--white);\n");
      out.write("            padding: 0;\n");
      out.write("            box-shadow: var(--shadow);\n");
      out.write("            position: relative;\n");
      out.write("            z-index: 10;\n");
      out.write("        }\n");
      out.write("\n");
      out.write("        .logo {\n");
      out.write("            padding: 30px 20px;\n");
      out.write("            text-align: center;\n");
      out.write("            background: rgba(255, 255, 255, 0.1);\n");
      out.write("            border-bottom: 1px solid rgba(255, 255, 255, 0.2);\n");
      out.write("        }\n");
      out.write("\n");
      out.write("        .logo h1 {\n");
      out.write("            font-size: 1.8em;\n");
      out.write("            font-weight: 700;\n");
      out.write("            display: flex;\n");
      out.write("            align-items: center;\n");
      out.write("            justify-content: center;\n");
      out.write("            gap: 12px;\n");
      out.write("        }\n");
      out.write("\n");
      out.write("        .logo-icon {\n");
      out.write("            font-size: 2em;\n");
      out.write("        }\n");
      out.write("\n");
      out.write("        .user-info {\n");
      out.write("            padding: 25px 20px;\n");
      out.write("            display: flex;\n");
      out.write("            align-items: center;\n");
      out.write("            gap: 15px;\n");
      out.write("            border-bottom: 1px solid rgba(255, 255, 255, 0.2);\n");
      out.write("            background: rgba(255, 255, 255, 0.05);\n");
      out.write("        }\n");
      out.write("\n");
      out.write("        .user-avatar {\n");
      out.write("            width: 50px;\n");
      out.write("            height: 50px;\n");
      out.write("            border-radius: 50%;\n");
      out.write("            background: rgba(255, 255, 255, 0.2);\n");
      out.write("            display: flex;\n");
      out.write("            align-items: center;\n");
      out.write("            justify-content: center;\n");
      out.write("            font-weight: bold;\n");
      out.write("            font-size: 1.2em;\n");
      out.write("            border: 2px solid rgba(255, 255, 255, 0.3);\n");
      out.write("        }\n");
      out.write("\n");
      out.write("        .user-details h3 {\n");
      out.write("            font-size: 1.1em;\n");
      out.write("            margin-bottom: 5px;\n");
      out.write("            font-weight: 600;\n");
      out.write("        }\n");
      out.write("\n");
      out.write("        .user-details p {\n");
      out.write("            font-size: 0.85em;\n");
      out.write("            opacity: 0.9;\n");
      out.write("        }\n");
      out.write("\n");
      out.write("        .menu {\n");
      out.write("            list-style: none;\n");
      out.write("            padding: 25px 0;\n");
      out.write("        }\n");
      out.write("\n");
      out.write("        .menu-section {\n");
      out.write("            padding: 15px 25px;\n");
      out.write("            font-size: 0.75em;\n");
      out.write("            text-transform: uppercase;\n");
      out.write("            color: rgba(255, 255, 255, 0.7);\n");
      out.write("            letter-spacing: 1.5px;\n");
      out.write("            margin-top: 15px;\n");
      out.write("            font-weight: 600;\n");
      out.write("            background: rgba(255, 255, 255, 0.05);\n");
      out.write("        }\n");
      out.write("\n");
      out.write("        .menu-item {\n");
      out.write("            padding: 16px 30px;\n");
      out.write("            border-left: 4px solid transparent;\n");
      out.write("            transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);\n");
      out.write("            cursor: pointer;\n");
      out.write("            display: flex;\n");
      out.write("            align-items: center;\n");
      out.write("            gap: 15px;\n");
      out.write("            position: relative;\n");
      out.write("            overflow: hidden;\n");
      out.write("        }\n");
      out.write("\n");
      out.write("        .menu-item::before {\n");
      out.write("            content: '';\n");
      out.write("            position: absolute;\n");
      out.write("            top: 0;\n");
      out.write("            left: -100%;\n");
      out.write("            width: 100%;\n");
      out.write("            height: 100%;\n");
      out.write("            background: linear-gradient(90deg, transparent, rgba(255,255,255,0.1), transparent);\n");
      out.write("            transition: left 0.6s;\n");
      out.write("        }\n");
      out.write("\n");
      out.write("        .menu-item:hover::before {\n");
      out.write("            left: 100%;\n");
      out.write("        }\n");
      out.write("\n");
      out.write("        .menu-item:hover {\n");
      out.write("            background-color: rgba(255, 255, 255, 0.1);\n");
      out.write("            border-left-color: var(--white);\n");
      out.write("            transform: translateX(5px);\n");
      out.write("        }\n");
      out.write("\n");
      out.write("        .menu-item.active {\n");
      out.write("            background-color: rgba(255, 255, 255, 0.15);\n");
      out.write("            border-left-color: var(--white);\n");
      out.write("        }\n");
      out.write("\n");
      out.write("        .menu-item a {\n");
      out.write("            color: var(--white);\n");
      out.write("            text-decoration: none;\n");
      out.write("            display: flex;\n");
      out.write("            align-items: center;\n");
      out.write("            gap: 15px;\n");
      out.write("            width: 100%;\n");
      out.write("            font-size: 0.95em;\n");
      out.write("            font-weight: 500;\n");
      out.write("        }\n");
      out.write("\n");
      out.write("        .menu-icon {\n");
      out.write("            font-size: 1.3em;\n");
      out.write("            width: 24px;\n");
      out.write("            text-align: center;\n");
      out.write("        }\n");
      out.write("\n");
      out.write("        /* Main Content Styles */\n");
      out.write("        .content {\n");
      out.write("            flex: 1;\n");
      out.write("            padding: 0;\n");
      out.write("            background: transparent;\n");
      out.write("            overflow-y: auto;\n");
      out.write("        }\n");
      out.write("\n");
      out.write("        .header {\n");
      out.write("            background: var(--white);\n");
      out.write("            padding: 25px 40px;\n");
      out.write("            border-bottom: 1px solid rgba(0, 0, 0, 0.05);\n");
      out.write("            box-shadow: 0 4px 30px rgba(0, 0, 0, 0.1);\n");
      out.write("            position: relative;\n");
      out.write("            overflow: hidden;\n");
      out.write("        }\n");
      out.write("\n");
      out.write("        .header::before {\n");
      out.write("            content: '';\n");
      out.write("            position: absolute;\n");
      out.write("            top: 0;\n");
      out.write("            left: 0;\n");
      out.write("            right: 0;\n");
      out.write("            height: 3px;\n");
      out.write("            background: var(--gradient-primary);\n");
      out.write("        }\n");
      out.write("\n");
      out.write("        .header-top {\n");
      out.write("            display: flex;\n");
      out.write("            justify-content: space-between;\n");
      out.write("            align-items: center;\n");
      out.write("            margin-bottom: 10px;\n");
      out.write("        }\n");
      out.write("\n");
      out.write("        .welcome h1 {\n");
      out.write("            font-size: 2.2em;\n");
      out.write("            color: var(--text-dark);\n");
      out.write("            margin-bottom: 8px;\n");
      out.write("            font-weight: 700;\n");
      out.write("        }\n");
      out.write("\n");
      out.write("        .welcome p {\n");
      out.write("            color: var(--text-light);\n");
      out.write("            font-size: 1.1em;\n");
      out.write("            font-weight: 500;\n");
      out.write("        }\n");
      out.write("\n");
      out.write("        .header-actions {\n");
      out.write("            display: flex;\n");
      out.write("            gap: 15px;\n");
      out.write("        }\n");
      out.write("\n");
      out.write("        .main-content {\n");
      out.write("            padding: 40px;\n");
      out.write("            max-width: 1400px;\n");
      out.write("            margin: 0 auto;\n");
      out.write("        }\n");
      out.write("\n");
      out.write("        /* Botones - Coherentes con Dashboard */\n");
      out.write("        .btn {\n");
      out.write("            padding: 16px 28px;\n");
      out.write("            border: none;\n");
      out.write("            border-radius: var(--radius);\n");
      out.write("            cursor: pointer;\n");
      out.write("            text-decoration: none;\n");
      out.write("            display: inline-flex;\n");
      out.write("            align-items: center;\n");
      out.write("            gap: 10px;\n");
      out.write("            font-weight: 600;\n");
      out.write("            transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);\n");
      out.write("            font-size: 0.95em;\n");
      out.write("            position: relative;\n");
      out.write("            overflow: hidden;\n");
      out.write("            border: 1px solid transparent;\n");
      out.write("        }\n");
      out.write("\n");
      out.write("        .btn::before {\n");
      out.write("            content: '';\n");
      out.write("            position: absolute;\n");
      out.write("            top: 0;\n");
      out.write("            left: -100%;\n");
      out.write("            width: 100%;\n");
      out.write("            height: 100%;\n");
      out.write("            background: linear-gradient(90deg, transparent, rgba(255,255,255,0.3), transparent);\n");
      out.write("            transition: left 0.6s;\n");
      out.write("        }\n");
      out.write("\n");
      out.write("        .btn:hover::before {\n");
      out.write("            left: 100%;\n");
      out.write("        }\n");
      out.write("\n");
      out.write("        .btn-primary {\n");
      out.write("            background: var(--gradient-primary);\n");
      out.write("            color: var(--white);\n");
      out.write("            box-shadow: 0 8px 25px rgba(171, 203, 213, 0.3);\n");
      out.write("        }\n");
      out.write("\n");
      out.write("        .btn-primary:hover {\n");
      out.write("            transform: translateY(-3px);\n");
      out.write("            box-shadow: 0 12px 35px rgba(171, 203, 213, 0.4);\n");
      out.write("        }\n");
      out.write("\n");
      out.write("        .btn-success {\n");
      out.write("            background: var(--gradient-success);\n");
      out.write("            color: var(--white);\n");
      out.write("            box-shadow: 0 8px 25px rgba(76, 175, 80, 0.3);\n");
      out.write("        }\n");
      out.write("\n");
      out.write("        .btn-success:hover {\n");
      out.write("            transform: translateY(-3px);\n");
      out.write("            box-shadow: 0 12px 35px rgba(76, 175, 80, 0.4);\n");
      out.write("        }\n");
      out.write("\n");
      out.write("        .btn-warning {\n");
      out.write("            background: var(--gradient-warning);\n");
      out.write("            color: var(--text-dark);\n");
      out.write("            box-shadow: 0 8px 25px rgba(255, 193, 7, 0.3);\n");
      out.write("        }\n");
      out.write("\n");
      out.write("        .btn-warning:hover {\n");
      out.write("            transform: translateY(-3px);\n");
      out.write("            box-shadow: 0 12px 35px rgba(255, 193, 7, 0.4);\n");
      out.write("        }\n");
      out.write("\n");
      out.write("        .btn-secondary {\n");
      out.write("            background: linear-gradient(135deg, var(--secondary-color) 0%, #c9b18c 100%);\n");
      out.write("            color: var(--text-dark);\n");
      out.write("            box-shadow: 0 8px 25px rgba(213, 196, 173, 0.3);\n");
      out.write("        }\n");
      out.write("\n");
      out.write("        .btn-secondary:hover {\n");
      out.write("            transform: translateY(-3px);\n");
      out.write("            box-shadow: 0 12px 35px rgba(213, 196, 173, 0.4);\n");
      out.write("        }\n");
      out.write("\n");
      out.write("        .btn-small {\n");
      out.write("            padding: 12px 20px;\n");
      out.write("            font-size: 0.9em;\n");
      out.write("        }\n");
      out.write("\n");
      out.write("        .btn-action {\n");
      out.write("            padding: 8px 16px;\n");
      out.write("            font-size: 0.85em;\n");
      out.write("            border-radius: 12px;\n");
      out.write("            margin: 2px;\n");
      out.write("        }\n");
      out.write("\n");
      out.write("        /* Stats Container Mejorado */\n");
      out.write("        .stats-container {\n");
      out.write("            display: grid;\n");
      out.write("            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));\n");
      out.write("            gap: 25px;\n");
      out.write("            margin: 30px 0;\n");
      out.write("        }\n");
      out.write("\n");
      out.write("        .stat-card {\n");
      out.write("            background: var(--white);\n");
      out.write("            padding: 30px 25px;\n");
      out.write("            border-radius: var(--radius);\n");
      out.write("            box-shadow: var(--shadow);\n");
      out.write("            text-align: center;\n");
      out.write("            border: 1px solid rgba(0, 0, 0, 0.05);\n");
      out.write("            transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);\n");
      out.write("            position: relative;\n");
      out.write("            overflow: hidden;\n");
      out.write("            animation: fadeInUp 0.8s ease-out;\n");
      out.write("        }\n");
      out.write("\n");
      out.write("        @keyframes fadeInUp {\n");
      out.write("            from {\n");
      out.write("                opacity: 0;\n");
      out.write("                transform: translateY(30px);\n");
      out.write("            }\n");
      out.write("            to {\n");
      out.write("                opacity: 1;\n");
      out.write("                transform: translateY(0);\n");
      out.write("            }\n");
      out.write("        }\n");
      out.write("\n");
      out.write("        .stat-card::before {\n");
      out.write("            content: '';\n");
      out.write("            position: absolute;\n");
      out.write("            top: 0;\n");
      out.write("            left: 0;\n");
      out.write("            right: 0;\n");
      out.write("            height: 4px;\n");
      out.write("            background: var(--gradient-primary);\n");
      out.write("        }\n");
      out.write("\n");
      out.write("        .stat-card:hover {\n");
      out.write("            transform: translateY(-5px);\n");
      out.write("            box-shadow: 0 15px 40px rgba(0,0,0,0.15);\n");
      out.write("        }\n");
      out.write("\n");
      out.write("        .stat-icon {\n");
      out.write("            font-size: 3em;\n");
      out.write("            margin-bottom: 15px;\n");
      out.write("            display: block;\n");
      out.write("        }\n");
      out.write("\n");
      out.write("        .stat-number {\n");
      out.write("            font-size: 2.5em;\n");
      out.write("            font-weight: 800;\n");
      out.write("            margin: 10px 0;\n");
      out.write("            color: var(--primary-dark);\n");
      out.write("        }\n");
      out.write("\n");
      out.write("        .stat-label {\n");
      out.write("            color: var(--text-light);\n");
      out.write("            font-size: 1em;\n");
      out.write("            font-weight: 600;\n");
      out.write("            text-transform: uppercase;\n");
      out.write("            letter-spacing: 1px;\n");
      out.write("        }\n");
      out.write("\n");
      out.write("        /* Table Container Mejorado */\n");
      out.write("        .table-container {\n");
      out.write("            background: var(--white);\n");
      out.write("            border-radius: var(--radius);\n");
      out.write("            box-shadow: var(--shadow);\n");
      out.write("            overflow: hidden;\n");
      out.write("            margin-bottom: 30px;\n");
      out.write("            border: 1px solid rgba(0, 0, 0, 0.05);\n");
      out.write("            animation: fadeInUp 0.8s ease-out;\n");
      out.write("        }\n");
      out.write("\n");
      out.write("        .table-wrapper {\n");
      out.write("            overflow-x: auto;\n");
      out.write("            border-radius: var(--radius);\n");
      out.write("        }\n");
      out.write("\n");
      out.write("        table {\n");
      out.write("            width: 100%;\n");
      out.write("            border-collapse: collapse;\n");
      out.write("            min-width: 1000px;\n");
      out.write("        }\n");
      out.write("\n");
      out.write("        th {\n");
      out.write("            background: var(--gradient-primary);\n");
      out.write("            color: var(--white);\n");
      out.write("            font-weight: 600;\n");
      out.write("            padding: 20px;\n");
      out.write("            text-align: left;\n");
      out.write("            border-bottom: 2px solid var(--primary-dark);\n");
      out.write("            position: sticky;\n");
      out.write("            top: 0;\n");
      out.write("            font-size: 0.95em;\n");
      out.write("            text-transform: uppercase;\n");
      out.write("            letter-spacing: 0.5px;\n");
      out.write("        }\n");
      out.write("\n");
      out.write("        td {\n");
      out.write("            padding: 18px 20px;\n");
      out.write("            text-align: left;\n");
      out.write("            border-bottom: 1px solid rgba(0, 0, 0, 0.08);\n");
      out.write("            transition: all 0.3s ease;\n");
      out.write("            font-size: 0.95em;\n");
      out.write("        }\n");
      out.write("\n");
      out.write("        tr {\n");
      out.write("            transition: all 0.3s ease;\n");
      out.write("        }\n");
      out.write("\n");
      out.write("        tr:hover td {\n");
      out.write("            background-color: rgba(171, 203, 213, 0.05);\n");
      out.write("            transform: translateY(-1px);\n");
      out.write("            box-shadow: 0 4px 15px rgba(0,0,0,0.1);\n");
      out.write("        }\n");
      out.write("\n");
      out.write("        /* Badges y Estados Mejorados */\n");
      out.write("        .badge {\n");
      out.write("            padding: 6px 12px;\n");
      out.write("            border-radius: 20px;\n");
      out.write("            font-weight: 600;\n");
      out.write("            font-size: 0.85em;\n");
      out.write("            text-transform: uppercase;\n");
      out.write("            letter-spacing: 0.5px;\n");
      out.write("        }\n");
      out.write("\n");
      out.write("        .badge-positive {\n");
      out.write("            background: linear-gradient(135deg, #e8f6ef 0%, #d1f2eb 100%);\n");
      out.write("            color: #1e8449;\n");
      out.write("            border: 1px solid #a3e4d7;\n");
      out.write("        }\n");
      out.write("\n");
      out.write("        .badge-negative {\n");
      out.write("            background: linear-gradient(135deg, #fdedec 0%, #fadbd8 100%);\n");
      out.write("            color: #c0392b;\n");
      out.write("            border: 1px solid #f5b7b1;\n");
      out.write("        }\n");
      out.write("\n");
      out.write("        .badge-neutral {\n");
      out.write("            background: linear-gradient(135deg, #f0f3f4 0%, #e5e8e8 100%);\n");
      out.write("            color: #566573;\n");
      out.write("            border: 1px solid #d0d3d4;\n");
      out.write("        }\n");
      out.write("\n");
      out.write("        .badge-efficiency {\n");
      out.write("            background: linear-gradient(135deg, #fef9e7 0%, #fcf3cf 100%);\n");
      out.write("            color: #b7950b;\n");
      out.write("            border: 1px solid #f9e79f;\n");
      out.write("        }\n");
      out.write("\n");
      out.write("        .service-badge {\n");
      out.write("            background: var(--primary-light);\n");
      out.write("            color: var(--text-dark);\n");
      out.write("            padding: 6px 12px;\n");
      out.write("            border-radius: 20px;\n");
      out.write("            font-weight: 700;\n");
      out.write("            font-size: 0.85em;\n");
      out.write("            border: 1px solid var(--primary-color);\n");
      out.write("        }\n");
      out.write("\n");
      out.write("        .groomer-badge {\n");
      out.write("            background: linear-gradient(135deg, #e8f4f8 0%, #d4eaf0 100%);\n");
      out.write("            color: var(--text-dark);\n");
      out.write("            padding: 6px 12px;\n");
      out.write("            border-radius: 20px;\n");
      out.write("            font-size: 0.85em;\n");
      out.write("            font-weight: 600;\n");
      out.write("            border: 1px solid var(--primary-light);\n");
      out.write("        }\n");
      out.write("\n");
      out.write("        .time-display {\n");
      out.write("            font-family: 'Courier New', monospace;\n");
      out.write("            font-weight: 700;\n");
      out.write("            font-size: 1.1em;\n");
      out.write("            color: var(--text-dark);\n");
      out.write("        }\n");
      out.write("\n");
      out.write("        /* Mensajes de estado mejorados */\n");
      out.write("        .mensaje {\n");
      out.write("            padding: 20px 25px;\n");
      out.write("            margin: 0 0 30px 0;\n");
      out.write("            border-radius: var(--radius);\n");
      out.write("            border-left: 4px solid;\n");
      out.write("            font-size: 1em;\n");
      out.write("            box-shadow: var(--shadow);\n");
      out.write("            animation: slideInDown 0.5s ease-out;\n");
      out.write("        }\n");
      out.write("\n");
      out.write("        @keyframes slideInDown {\n");
      out.write("            from {\n");
      out.write("                opacity: 0;\n");
      out.write("                transform: translateY(-20px);\n");
      out.write("            }\n");
      out.write("            to {\n");
      out.write("                opacity: 1;\n");
      out.write("                transform: translateY(0);\n");
      out.write("            }\n");
      out.write("        }\n");
      out.write("\n");
      out.write("        .exito {\n");
      out.write("            background: linear-gradient(135deg, #f0f9f4 0%, #e8f5e8 100%);\n");
      out.write("            border-left-color: var(--success-color);\n");
      out.write("            color: #1e7e34;\n");
      out.write("        }\n");
      out.write("\n");
      out.write("        .error {\n");
      out.write("            background: linear-gradient(135deg, #fdf2f2 0%, #fde8e8 100%);\n");
      out.write("            border-left-color: var(--danger-color);\n");
      out.write("            color: #c53030;\n");
      out.write("        }\n");
      out.write("\n");
      out.write("        .info {\n");
      out.write("            background: linear-gradient(135deg, #f0f7ff 0%, #e6f3ff 100%);\n");
      out.write("            border-left-color: var(--info-color);\n");
      out.write("            color: var(--text-dark);\n");
      out.write("        }\n");
      out.write("\n");
      out.write("        /* Empty State Mejorado */\n");
      out.write("        .empty-state {\n");
      out.write("            text-align: center;\n");
      out.write("            padding: 80px 40px;\n");
      out.write("            color: var(--text-light);\n");
      out.write("            background: var(--white);\n");
      out.write("            border-radius: var(--radius);\n");
      out.write("            box-shadow: var(--shadow);\n");
      out.write("            margin: 30px 0;\n");
      out.write("            animation: fadeInUp 0.8s ease-out;\n");
      out.write("        }\n");
      out.write("\n");
      out.write("        .empty-state-icon {\n");
      out.write("            font-size: 4em;\n");
      out.write("            margin-bottom: 20px;\n");
      out.write("            display: block;\n");
      out.write("            opacity: 0.7;\n");
      out.write("        }\n");
      out.write("\n");
      out.write("        .empty-state h3 {\n");
      out.write("            font-size: 1.8em;\n");
      out.write("            margin-bottom: 15px;\n");
      out.write("            color: var(--text-dark);\n");
      out.write("            font-weight: 600;\n");
      out.write("        }\n");
      out.write("\n");
      out.write("        .empty-state p {\n");
      out.write("            font-size: 1.1em;\n");
      out.write("            margin-bottom: 30px;\n");
      out.write("            max-width: 500px;\n");
      out.write("            margin-left: auto;\n");
      out.write("            margin-right: auto;\n");
      out.write("            line-height: 1.8;\n");
      out.write("        }\n");
      out.write("\n");
      out.write("        /* Filtros adicionales */\n");
      out.write("        .filters-container {\n");
      out.write("            background: var(--white);\n");
      out.write("            padding: 25px;\n");
      out.write("            border-radius: var(--radius);\n");
      out.write("            margin-bottom: 25px;\n");
      out.write("            box-shadow: var(--shadow);\n");
      out.write("            display: flex;\n");
      out.write("            gap: 15px;\n");
      out.write("            flex-wrap: wrap;\n");
      out.write("            align-items: center;\n");
      out.write("        }\n");
      out.write("\n");
      out.write("        .filter-group {\n");
      out.write("            display: flex;\n");
      out.write("            align-items: center;\n");
      out.write("            gap: 10px;\n");
      out.write("        }\n");
      out.write("\n");
      out.write("        .filter-label {\n");
      out.write("            font-weight: 600;\n");
      out.write("            color: var(--text-dark);\n");
      out.write("            font-size: 0.9em;\n");
      out.write("        }\n");
      out.write("\n");
      out.write("        .filter-select {\n");
      out.write("            padding: 10px 15px;\n");
      out.write("            border: 2px solid #e0e0e0;\n");
      out.write("            border-radius: var(--radius);\n");
      out.write("            background: #f9f9f9;\n");
      out.write("            font-size: 0.9em;\n");
      out.write("            transition: all 0.3s ease;\n");
      out.write("        }\n");
      out.write("\n");
      out.write("        .filter-select:focus {\n");
      out.write("            outline: none;\n");
      out.write("            border-color: var(--primary-color);\n");
      out.write("            background: var(--white);\n");
      out.write("        }\n");
      out.write("\n");
      out.write("        /* Responsive Design - Coherente con Dashboard */\n");
      out.write("        @media (max-width: 1200px) {\n");
      out.write("            .container {\n");
      out.write("                flex-direction: column;\n");
      out.write("            }\n");
      out.write("            .sidebar {\n");
      out.write("                width: 100%;\n");
      out.write("                height: auto;\n");
      out.write("            }\n");
      out.write("            .menu {\n");
      out.write("                display: flex;\n");
      out.write("                flex-wrap: wrap;\n");
      out.write("                justify-content: center;\n");
      out.write("                padding: 15px;\n");
      out.write("            }\n");
      out.write("            .menu-item {\n");
      out.write("                flex: 1 0 200px;\n");
      out.write("                justify-content: center;\n");
      out.write("            }\n");
      out.write("            .menu-section {\n");
      out.write("                display: none;\n");
      out.write("            }\n");
      out.write("        }\n");
      out.write("\n");
      out.write("        @media (max-width: 768px) {\n");
      out.write("            .main-content {\n");
      out.write("                padding: 20px;\n");
      out.write("            }\n");
      out.write("            .header-top {\n");
      out.write("                flex-direction: column;\n");
      out.write("                gap: 20px;\n");
      out.write("                align-items: flex-start;\n");
      out.write("            }\n");
      out.write("            .header-actions {\n");
      out.write("                width: 100%;\n");
      out.write("                justify-content: center;\n");
      out.write("            }\n");
      out.write("            .stats-container {\n");
      out.write("                grid-template-columns: 1fr;\n");
      out.write("            }\n");
      out.write("            .filters-container {\n");
      out.write("                flex-direction: column;\n");
      out.write("                align-items: stretch;\n");
      out.write("            }\n");
      out.write("            .filter-group {\n");
      out.write("                width: 100%;\n");
      out.write("                justify-content: space-between;\n");
      out.write("            }\n");
      out.write("        }\n");
      out.write("\n");
      out.write("        @media (max-width: 480px) {\n");
      out.write("            .header {\n");
      out.write("                padding: 20px;\n");
      out.write("            }\n");
      out.write("            .main-content {\n");
      out.write("                padding: 15px;\n");
      out.write("            }\n");
      out.write("            .btn {\n");
      out.write("                width: 100%;\n");
      out.write("                justify-content: center;\n");
      out.write("            }\n");
      out.write("            .empty-state {\n");
      out.write("                padding: 40px 20px;\n");
      out.write("            }\n");
      out.write("            .empty-state-icon {\n");
      out.write("                font-size: 3em;\n");
      out.write("            }\n");
      out.write("        }\n");
      out.write("\n");
      out.write("        /* Efectos especiales adicionales */\n");
      out.write("        .floating {\n");
      out.write("            animation: floating 3s ease-in-out infinite;\n");
      out.write("        }\n");
      out.write("\n");
      out.write("        @keyframes floating {\n");
      out.write("            0%, 100% { transform: translateY(0px); }\n");
      out.write("            50% { transform: translateY(-10px); }\n");
      out.write("        }\n");
      out.write("\n");
      out.write("        .pulse {\n");
      out.write("            animation: pulse 2s infinite;\n");
      out.write("        }\n");
      out.write("\n");
      out.write("        @keyframes pulse {\n");
      out.write("            0% { transform: scale(1); }\n");
      out.write("            50% { transform: scale(1.05); }\n");
      out.write("            100% { transform: scale(1); }\n");
      out.write("        }\n");
      out.write("\n");
      out.write("        .loading-dots {\n");
      out.write("            display: inline-flex;\n");
      out.write("            gap: 4px;\n");
      out.write("        }\n");
      out.write("\n");
      out.write("        .loading-dots span {\n");
      out.write("            width: 8px;\n");
      out.write("            height: 8px;\n");
      out.write("            border-radius: 50%;\n");
      out.write("            background: var(--primary-color);\n");
      out.write("            animation: loading 1.4s infinite ease-in-out;\n");
      out.write("        }\n");
      out.write("\n");
      out.write("        .loading-dots span:nth-child(1) { animation-delay: -0.32s; }\n");
      out.write("        .loading-dots span:nth-child(2) { animation-delay: -0.16s; }\n");
      out.write("\n");
      out.write("        @keyframes loading {\n");
      out.write("            0%, 80%, 100% { transform: scale(0); }\n");
      out.write("            40% { transform: scale(1); }\n");
      out.write("        }\n");
      out.write("\n");
      out.write("        /* Action Buttons Mejorados */\n");
      out.write("        .btn-edit {\n");
      out.write("            background: linear-gradient(135deg, var(--warning-color) 0%, #e0a800 100%);\n");
      out.write("            color: var(--text-dark);\n");
      out.write("            padding: 10px 18px;\n");
      out.write("            font-size: 0.85em;\n");
      out.write("            border-radius: 12px;\n");
      out.write("            text-decoration: none;\n");
      out.write("            display: inline-flex;\n");
      out.write("            align-items: center;\n");
      out.write("            gap: 6px;\n");
      out.write("            transition: all 0.3s ease;\n");
      out.write("            font-weight: 600;\n");
      out.write("            box-shadow: 0 4px 15px rgba(255, 193, 7, 0.3);\n");
      out.write("        }\n");
      out.write("\n");
      out.write("        .btn-edit:hover {\n");
      out.write("            transform: translateY(-2px);\n");
      out.write("            box-shadow: 0 8px 25px rgba(255, 193, 7, 0.4);\n");
      out.write("        }\n");
      out.write("    </style>\n");
      out.write("</head>\n");
      out.write("<body>\n");
      out.write("    <div class=\"container\">\n");
      out.write("        <!-- Sidebar Menu - Coherente con Dashboard -->\n");
      out.write("        <div class=\"sidebar\">\n");
      out.write("            <div class=\"logo\">\n");
      out.write("                <h1><span class=\"logo-icon\">üêï</span> Ter√°n Vet</h1>\n");
      out.write("            </div>\n");
      out.write("            \n");
      out.write("            <div class=\"user-info\">\n");
      out.write("                <div class=\"user-avatar\">JS</div>\n");
      out.write("                <div class=\"user-details\">\n");
      out.write("                    <h3>Juan S√°nchez</h3>\n");
      out.write("                    <p>Administrador</p>\n");
      out.write("                </div>\n");
      out.write("            </div>\n");
      out.write("            \n");
      out.write("            <ul class=\"menu\">\n");
      out.write("                <!-- N√∫cleo del Negocio -->\n");
      out.write("                <div class=\"menu-section\">N√∫cleo del Negocio</div>\n");
      out.write("                <li class=\"menu-item\">\n");
      out.write("                    <a href=\"dashboard.jsp\">\n");
      out.write("                        <span class=\"menu-icon\">üìä</span>\n");
      out.write("                        <span>Dashboard</span>\n");
      out.write("                    </a>\n");
      out.write("                </li>\n");
      out.write("                <li class=\"menu-item\">\n");
      out.write("                    <a href=\"CitaControlador?accion=todasCitas\">\n");
      out.write("                        <span class=\"menu-icon\">üìÖ</span>\n");
      out.write("                        <span>Citas</span>\n");
      out.write("                    </a>\n");
      out.write("                </li>\n");
      out.write("                <li class=\"menu-item\">\n");
      out.write("                    <a href=\"AtencionControlador\">\n");
      out.write("                        <span class=\"menu-icon\">üéØ</span>\n");
      out.write("                        <span>Atenci√≥n</span>\n");
      out.write("                    </a>\n");
      out.write("                </li>\n");
      out.write("                \n");
      out.write("                <!-- Gesti√≥n de Clientes -->\n");
      out.write("                <div class=\"menu-section\">Gesti√≥n de Clientes</div>\n");
      out.write("                <li class=\"menu-item\">\n");
      out.write("                    <a href=\"Clientes.jsp\">\n");
      out.write("                        <span class=\"menu-icon\">üë•</span>\n");
      out.write("                        <span>Clientes</span>\n");
      out.write("                    </a>\n");
      out.write("                </li>\n");
      out.write("                <li class=\"menu-item\">\n");
      out.write("                    <a href=\"ListaMascotas.jsp\">\n");
      out.write("                        <span class=\"menu-icon\">üêæ</span>\n");
      out.write("                        <span>Mascotas</span>\n");
      out.write("                    </a>\n");
      out.write("                </li>\n");
      out.write("                <li class=\"menu-item\">\n");
      out.write("                    <a href=\"ServicioControlador\">\n");
      out.write("                        <span class=\"menu-icon\">üõ†Ô∏è</span>\n");
      out.write("                        <span>Servicios</span>\n");
      out.write("                    </a>\n");
      out.write("                </li>\n");
      out.write("                <li class=\"menu-item\">\n");
      out.write("                    <a href=\"ClienteControlador?accion=listarFrecuentes\">\n");
      out.write("                        <span class=\"menu-icon\">üèÜ</span>\n");
      out.write("                        <span>Clientes Frecuentes</span>\n");
      out.write("                    </a>\n");
      out.write("                </li>\n");
      out.write("                <li class=\"menu-item\">\n");
      out.write("                    <a href=\"BuscarClientes.jsp\">\n");
      out.write("                        <span class=\"menu-icon\">üîç</span>\n");
      out.write("                        <span>B√∫squeda Avanzada</span>\n");
      out.write("                    </a>\n");
      out.write("                </li>\n");
      out.write("                \n");
      out.write("                <!-- Personal y Operaciones -->\n");
      out.write("                <div class=\"menu-section\">Personal y Operaciones</div>\n");
      out.write("                <li class=\"menu-item\">\n");
      out.write("                    <a href=\"GroomerControlador\">\n");
      out.write("                        <span class=\"menu-icon\">‚úÇÔ∏è</span>\n");
      out.write("                        <span>Groomers</span>\n");
      out.write("                    </a>\n");
      out.write("                </li>\n");
      out.write("                <li class=\"menu-item\">\n");
      out.write("                    <a href=\"SucursalControlador?accion=listar\">\n");
      out.write("                        <span class=\"menu-icon\">üè¢</span>\n");
      out.write("                        <span>Sucursales</span>\n");
      out.write("                    </a>\n");
      out.write("                </li>\n");
      out.write("                \n");
      out.write("                <!-- Finanzas -->\n");
      out.write("                <div class=\"menu-section\">Finanzas</div>\n");
      out.write("                <li class=\"menu-item\">\n");
      out.write("                    <a href=\"pagos.jsp\">\n");
      out.write("                        <span class=\"menu-icon\">üí≥</span>\n");
      out.write("                        <span>Pagos</span>\n");
      out.write("                    </a>\n");
      out.write("                </li>\n");
      out.write("                <li class=\"menu-item\">\n");
      out.write("                    <a href=\"facturas.jsp\">\n");
      out.write("                        <span class=\"menu-icon\">üßæ</span>\n");
      out.write("                        <span>Facturas</span>\n");
      out.write("                    </a>\n");
      out.write("                </li>\n");
      out.write("                <li class=\"menu-item\">\n");
      out.write("                    <a href=\"promociones.jsp\">\n");
      out.write("                        <span class=\"menu-icon\">üéÅ</span>\n");
      out.write("                        <span>Promociones</span>\n");
      out.write("                    </a>\n");
      out.write("                </li>\n");
      out.write("                \n");
      out.write("                <!-- An√°lisis y Control -->\n");
      out.write("                <div class=\"menu-section\">An√°lisis y Control</div>\n");
      out.write("                <li class=\"menu-item\">\n");
      out.write("                    <a href=\"ReporteControlador\">\n");
      out.write("                        <span class=\"menu-icon\">üìà</span>\n");
      out.write("                        <span>Reportes</span>\n");
      out.write("                    </a>\n");
      out.write("                </li>\n");
      out.write("                <li class=\"menu-item\">\n");
      out.write("                    <a href=\"AuditControlador?accion=listar\">\n");
      out.write("                        <span class=\"menu-icon\">üîç</span>\n");
      out.write("                        <span>Auditoria</span>\n");
      out.write("                    </a>\n");
      out.write("                </li>\n");
      out.write("                \n");
      out.write("                <!-- Sistema -->\n");
      out.write("                <div class=\"menu-section\">Sistema</div>\n");
      out.write("                <li class=\"menu-item active\">\n");
      out.write("                    <a href=\"configuracion.jsp\">\n");
      out.write("                        <span class=\"menu-icon\">‚öôÔ∏è</span>\n");
      out.write("                        <span>Configuraci√≥n</span>\n");
      out.write("                    </a>\n");
      out.write("                </li>\n");
      out.write("            </ul>\n");
      out.write("        </div>\n");
      out.write("\n");
      out.write("        <!-- Main Content -->\n");
      out.write("        <div class=\"content\">\n");
      out.write("            <div class=\"header\">\n");
      out.write("                <div class=\"header-top\">\n");
      out.write("                    <div class=\"welcome\">\n");
      out.write("                        <h1>‚öôÔ∏è Configuraci√≥n de Estimaciones</h1>\n");
      out.write("                        <p>Gestiona los tiempos estimados para servicios y groomers</p>\n");
      out.write("                    </div>\n");
      out.write("                    <div class=\"header-actions\">\n");
      out.write("                        <a href=\"agregarEstimacion.jsp\" class=\"btn btn-success\">\n");
      out.write("                            <span>‚ûï Nueva Estimaci√≥n</span>\n");
      out.write("                        </a>\n");
      out.write("                        <a href=\"dashboard.jsp\" class=\"btn btn-primary\">\n");
      out.write("                            <span>üìä Ir al Dashboard</span>\n");
      out.write("                        </a>\n");
      out.write("                    </div>\n");
      out.write("                </div>\n");
      out.write("            </div>\n");
      out.write("\n");
      out.write("            <div class=\"main-content\">\n");
      out.write("                <!-- Mensajes -->\n");
      out.write("                ");
 String mensaje = (String) request.getAttribute("mensaje"); 
      out.write("\n");
      out.write("                ");
 if (mensaje != null) { 
      out.write("\n");
      out.write("                    <div class=\"mensaje ");
      out.print( mensaje.contains("‚úÖ") ? "exito" : "info" );
      out.write("\">\n");
      out.write("                        ");
      out.print( mensaje );
      out.write("\n");
      out.write("                    </div>\n");
      out.write("                ");
 } 
      out.write("\n");
      out.write("\n");
      out.write("                <!-- Estad√≠sticas de Estimaciones -->\n");
      out.write("                ");

                    List<EstimacionTiempoDTO> lista = (List<EstimacionTiempoDTO>) request.getAttribute("estimaciones");
                    int totalEstimaciones = lista != null ? lista.size() : 0;
                    int optimizadas = 0;
                    int sobreTiempo = 0;
                    int iguales = 0;
                    
                    if (lista != null) {
                        for (EstimacionTiempoDTO est : lista) {
                            int diferencia = est.getTiempoEstimadoMin() - est.getDuracionBase();
                            if (diferencia < 0) optimizadas++;
                            else if (diferencia > 0) sobreTiempo++;
                            else iguales++;
                        }
                    }
                
      out.write("\n");
      out.write("\n");
      out.write("                <div class=\"stats-container\">\n");
      out.write("                    <div class=\"stat-card floating\">\n");
      out.write("                        <span class=\"stat-icon\">‚è±Ô∏è</span>\n");
      out.write("                        <div class=\"stat-number\" id=\"totalEstimaciones\">");
      out.print( totalEstimaciones );
      out.write("</div>\n");
      out.write("                        <div class=\"stat-label\">Total Estimaciones</div>\n");
      out.write("                    </div>\n");
      out.write("                    <div class=\"stat-card floating\" style=\"animation-delay: 0.2s;\">\n");
      out.write("                        <span class=\"stat-icon\">üöÄ</span>\n");
      out.write("                        <div class=\"stat-number\" id=\"optimizadasCount\">");
      out.print( optimizadas );
      out.write("</div>\n");
      out.write("                        <div class=\"stat-label\">Optimizadas</div>\n");
      out.write("                    </div>\n");
      out.write("                    <div class=\"stat-card floating\" style=\"animation-delay: 0.4s;\">\n");
      out.write("                        <span class=\"stat-icon\">‚ö†Ô∏è</span>\n");
      out.write("                        <div class=\"stat-number\" id=\"sobreTiempoCount\">");
      out.print( sobreTiempo );
      out.write("</div>\n");
      out.write("                        <div class=\"stat-label\">Sobre Tiempo</div>\n");
      out.write("                    </div>\n");
      out.write("                    <div class=\"stat-card floating\" style=\"animation-delay: 0.6s;\">\n");
      out.write("                        <span class=\"stat-icon\">‚öñÔ∏è</span>\n");
      out.write("                        <div class=\"stat-number\" id=\"igualesCount\">");
      out.print( iguales );
      out.write("</div>\n");
      out.write("                        <div class=\"stat-label\">En Tiempo</div>\n");
      out.write("                    </div>\n");
      out.write("                </div>\n");
      out.write("\n");
      out.write("                <!-- Tabla de Estimaciones Mejorada -->\n");
      out.write("                ");
 if (lista != null && !lista.isEmpty()) { 
      out.write("\n");
      out.write("                    <div class=\"table-container\">\n");
      out.write("                        <div class=\"table-wrapper\">\n");
      out.write("                            <table>\n");
      out.write("                                <thead>\n");
      out.write("                                    <tr>\n");
      out.write("                                        <th>#</th>\n");
      out.write("                                        <th>Servicio</th>\n");
      out.write("                                        <th>Groomer</th>\n");
      out.write("                                        <th>Duraci√≥n Base</th>\n");
      out.write("                                        <th>Tiempo Estimado</th>\n");
      out.write("                                        <th>Diferencia</th>\n");
      out.write("                                        <th>Eficiencia</th>\n");
      out.write("                                        <th>Acciones</th>\n");
      out.write("                                    </tr>\n");
      out.write("                                </thead>\n");
      out.write("                                <tbody>\n");
      out.write("                                    ");
 
                                        int i = 1;
                                        for (EstimacionTiempoDTO est : lista) {
                                            int diferencia = est.getTiempoEstimadoMin() - est.getDuracionBase();
                                            String eficiencia = est.getNivelEficiencia() != null ? est.getNivelEficiencia() : "";
                                            
                                            String diferenciaBadgeClass = "badge-neutral";
                                            String diferenciaText = "Igual";
                                            
                                            if (diferencia > 0) {
                                                diferenciaBadgeClass = "badge-negative";
                                                diferenciaText = "+" + diferencia + " min";
                                            } else if (diferencia < 0) {
                                                diferenciaBadgeClass = "badge-positive";
                                                diferenciaText = diferencia + " min";
                                            }
                                    
      out.write("\n");
      out.write("                                    <tr class=\"fade-in-row\">\n");
      out.write("                                        <td>\n");
      out.write("                                            <span class=\"service-badge\">#");
      out.print( i++ );
      out.write("</span>\n");
      out.write("                                        </td>\n");
      out.write("                                        <td>\n");
      out.write("                                            <strong>");
      out.print( est.getServicio() );
      out.write("</strong>\n");
      out.write("                                        </td>\n");
      out.write("                                        <td>\n");
      out.write("                                            <span class=\"groomer-badge\">");
      out.print( est.getGroomer() );
      out.write("</span>\n");
      out.write("                                        </td>\n");
      out.write("                                        <td>\n");
      out.write("                                            <span class=\"time-display\">");
      out.print( est.getDuracionBase() );
      out.write(" min</span>\n");
      out.write("                                        </td>\n");
      out.write("                                        <td>\n");
      out.write("                                            <span class=\"time-display\">");
      out.print( est.getTiempoEstimadoMin() );
      out.write(" min</span>\n");
      out.write("                                        </td>\n");
      out.write("                                        <td>\n");
      out.write("                                            <span class=\"badge ");
      out.print( diferenciaBadgeClass );
      out.write('"');
      out.write('>');
      out.print( diferenciaText );
      out.write("</span>\n");
      out.write("                                        </td>\n");
      out.write("                                        <td>\n");
      out.write("                                            ");
 if (!eficiencia.isEmpty()) { 
      out.write("\n");
      out.write("                                                <span class=\"badge badge-efficiency\">");
      out.print( eficiencia );
      out.write("</span>\n");
      out.write("                                            ");
 } else { 
      out.write("\n");
      out.write("                                                <span class=\"no-data\">-</span>\n");
      out.write("                                            ");
 } 
      out.write("\n");
      out.write("                                        </td>\n");
      out.write("                                        <td>\n");
      out.write("                                            <div class=\"action-buttons\">\n");
      out.write("                                                <a href=\"ConfiguracionControlador?accion=editar&idServicio=");
      out.print( est.getIdServicio());
      out.write("&idGroomer=");
      out.print( est.getIdGroomer());
      out.write("\" \n");
      out.write("                                                   class=\"btn-edit\"\n");
      out.write("                                                   title=\"Editar estimaci√≥n\">\n");
      out.write("                                                    ‚úèÔ∏è Editar\n");
      out.write("                                                </a>\n");
      out.write("                                            </div>\n");
      out.write("                                        </td>\n");
      out.write("                                    </tr>\n");
      out.write("                                    ");
 } 
      out.write("\n");
      out.write("                                </tbody>\n");
      out.write("                            </table>\n");
      out.write("                        </div>\n");
      out.write("                    </div>\n");
      out.write("\n");
      out.write("                    <!-- Resumen de resultados -->\n");
      out.write("                    <div class=\"info\" style=\"margin: 20px 0; padding: 15px 25px;\">\n");
      out.write("                        <strong>üìä Resumen:</strong> \n");
      out.write("                        <strong>");
      out.print( totalEstimaciones );
      out.write("</strong> ");
      out.print( totalEstimaciones == 1 ? "estimaci√≥n configurada" : "estimaciones configuradas" );
      out.write(" | \n");
      out.write("                        <span style=\"color: #1e8449;\"><strong>");
      out.print( optimizadas );
      out.write("</strong> optimizadas</span> | \n");
      out.write("                        <span style=\"color: #c0392b;\"><strong>");
      out.print( sobreTiempo );
      out.write("</strong> sobre tiempo</span> | \n");
      out.write("                        <span style=\"color: #566573;\"><strong>");
      out.print( iguales );
      out.write("</strong> en tiempo</span>\n");
      out.write("                    </div>\n");
      out.write("\n");
      out.write("                ");
 } else { 
      out.write("\n");
      out.write("                    <div class=\"empty-state\">\n");
      out.write("                        <span class=\"empty-state-icon\">‚è±Ô∏è</span>\n");
      out.write("                        <h3>No hay estimaciones configuradas</h3>\n");
      out.write("                        <p>\n");
      out.write("                            Comienza configurando las estimaciones de tiempo para los diferentes servicios y groomers. \n");
      out.write("                            Esto te ayudar√° a planificar mejor las citas y optimizar los tiempos de atenci√≥n.\n");
      out.write("                        </p>\n");
      out.write("                        <a href=\"agregarEstimacion.jsp\" class=\"btn btn-success btn-large\">\n");
      out.write("                            <span>‚ûï Configurar Primera Estimaci√≥n</span>\n");
      out.write("                        </a>\n");
      out.write("                    </div>\n");
      out.write("                ");
 } 
      out.write("\n");
      out.write("\n");
      out.write("                <!-- Navegaci√≥n mejorada -->\n");
      out.write("                <div style=\"display: flex; gap: 15px; margin-top: 30px; flex-wrap: wrap;\">\n");
      out.write("                    <a href=\"agregarEstimacion.jsp\" class=\"btn btn-success\">\n");
      out.write("                        <span>‚ûï Nueva Estimaci√≥n</span>\n");
      out.write("                    </a>\n");
      out.write("                    <a href=\"menuConfiguracion.jsp\" class=\"btn btn-secondary\">\n");
      out.write("                        <span>‚öôÔ∏è Men√∫ Configuraci√≥n</span>\n");
      out.write("                    </a>\n");
      out.write("                    <a href=\"dashboard.jsp\" class=\"btn btn-primary\">\n");
      out.write("                        <span>üìä Volver al Dashboard</span>\n");
      out.write("                    </a>\n");
      out.write("                </div>\n");
      out.write("            </div>\n");
      out.write("        </div>\n");
      out.write("    </div>\n");
      out.write("\n");
      out.write("    <script>\n");
      out.write("        // Script mejorado para la p√°gina de estimaciones\n");
      out.write("        document.addEventListener('DOMContentLoaded', function() {\n");
      out.write("            // Efecto de carga suave para las filas de la tabla\n");
      out.write("            const tableRows = document.querySelectorAll('tbody tr');\n");
      out.write("            tableRows.forEach((row, index) => {\n");
      out.write("                row.style.opacity = '0';\n");
      out.write("                row.style.transform = 'translateY(20px)';\n");
      out.write("                \n");
      out.write("                setTimeout(() => {\n");
      out.write("                    row.style.transition = 'all 0.5s cubic-bezier(0.4, 0, 0.2, 1)';\n");
      out.write("                    row.style.opacity = '1';\n");
      out.write("                    row.style.transform = 'translateY(0)';\n");
      out.write("                }, index * 100);\n");
      out.write("            });\n");
      out.write("\n");
      out.write("            // Animaci√≥n de contadores en las estad√≠sticas\n");
      out.write("            function animateCounter(element, target) {\n");
      out.write("                let current = 0;\n");
      out.write("                const increment = target / 50;\n");
      out.write("                const timer = setInterval(() => {\n");
      out.write("                    current += increment;\n");
      out.write("                    if (current >= target) {\n");
      out.write("                        element.textContent = target;\n");
      out.write("                        clearInterval(timer);\n");
      out.write("                    } else {\n");
      out.write("                        element.textContent = Math.floor(current);\n");
      out.write("                    }\n");
      out.write("                }, 40);\n");
      out.write("            }\n");
      out.write("\n");
      out.write("            // Animar contadores despu√©s de un peque√±o delay\n");
      out.write("            setTimeout(() => {\n");
      out.write("                const totalElement = document.getElementById('totalEstimaciones');\n");
      out.write("                const optimizadasElement = document.getElementById('optimizadasCount');\n");
      out.write("                const sobreTiempoElement = document.getElementById('sobreTiempoCount');\n");
      out.write("                const igualesElement = document.getElementById('igualesCount');\n");
      out.write("                \n");
      out.write("                if (totalElement) animateCounter(totalElement, ");
      out.print( totalEstimaciones );
      out.write(");\n");
      out.write("                if (optimizadasElement) animateCounter(optimizadasElement, ");
      out.print( optimizadas );
      out.write(");\n");
      out.write("                if (sobreTiempoElement) animateCounter(sobreTiempoElement, ");
      out.print( sobreTiempo );
      out.write(");\n");
      out.write("                if (igualesElement) animateCounter(igualesElement, ");
      out.print( iguales );
      out.write(");\n");
      out.write("            }, 500);\n");
      out.write("\n");
      out.write("            // Efectos hover mejorados para botones de acci√≥n\n");
      out.write("            const actionButtons = document.querySelectorAll('.btn-edit');\n");
      out.write("            actionButtons.forEach(button => {\n");
      out.write("                button.addEventListener('mouseenter', function() {\n");
      out.write("                    this.style.transform = 'translateY(-3px) scale(1.05)';\n");
      out.write("                });\n");
      out.write("                button.addEventListener('mouseleave', function() {\n");
      out.write("                    this.style.transform = 'translateY(0) scale(1)';\n");
      out.write("                });\n");
      out.write("            });\n");
      out.write("\n");
      out.write("            // Tooltips para las diferencias de tiempo\n");
      out.write("            const diferenciaBadges = document.querySelectorAll('.badge-positive, .badge-negative, .badge-neutral');\n");
      out.write("            diferenciaBadges.forEach(badge => {\n");
      out.write("                let tooltipText = \"\";\n");
      out.write("                if (badge.classList.contains('badge-positive')) {\n");
      out.write("                    tooltipText = \"‚è∞ Este groomer completa el servicio m√°s r√°pido que el tiempo base\";\n");
      out.write("                } else if (badge.classList.contains('badge-negative')) {\n");
      out.write("                    tooltipText = \"‚è∞ Este groomer necesita m√°s tiempo que el tiempo base\";\n");
      out.write("                } else {\n");
      out.write("                    tooltipText = \"‚è∞ El tiempo estimado coincide con el tiempo base\";\n");
      out.write("                }\n");
      out.write("                \n");
      out.write("                badge.setAttribute('title', tooltipText);\n");
      out.write("            });\n");
      out.write("        });\n");
      out.write("\n");
      out.write("        // Funci√≥n para exportar datos (placeholder)\n");
      out.write("        function exportarEstimaciones() {\n");
      out.write("            if (confirm('¬øDesea exportar la configuraci√≥n de estimaciones?')) {\n");
      out.write("                const exportBtn = document.querySelector('.btn-export');\n");
      out.write("                const originalText = exportBtn.innerHTML;\n");
      out.write("                exportBtn.innerHTML = '<span class=\"loading-dots\"><span></span><span></span><span></span></span> Exportando...';\n");
      out.write("                \n");
      out.write("                setTimeout(() => {\n");
      out.write("                    exportBtn.innerHTML = originalText;\n");
      out.write("                    alert('‚úÖ Configuraci√≥n de estimaciones exportada correctamente');\n");
      out.write("                }, 2000);\n");
      out.write("            }\n");
      out.write("        }\n");
      out.write("\n");
      out.write("        // Funci√≥n para an√°lisis de eficiencia\n");
      out.write("        function analizarEficiencia() {\n");
      out.write("            const optimizadas = ");
      out.print( optimizadas );
      out.write(";\n");
      out.write("            const total = ");
      out.print( totalEstimaciones );
      out.write(";\n");
      out.write("            \n");
      out.write("            if (total > 0) {\n");
      out.write("                const porcentajeOptimizadas = (optimizadas / total * 100).toFixed(1);\n");
      out.write("                alert(`üìä An√°lisis de Eficiencia:\\n\\n‚Ä¢ ");
      out.write((java.lang.String) org.apache.jasper.runtime.PageContextImpl.evaluateExpression("${optimizadas}", java.lang.String.class, (PageContext)_jspx_page_context, null));
      out.write(" de ");
      out.write((java.lang.String) org.apache.jasper.runtime.PageContextImpl.evaluateExpression("${total}", java.lang.String.class, (PageContext)_jspx_page_context, null));
      out.write(" estimaciones optimizadas\\n‚Ä¢ ");
      out.write((java.lang.String) org.apache.jasper.runtime.PageContextImpl.evaluateExpression("${porcentajeOptimizadas}", java.lang.String.class, (PageContext)_jspx_page_context, null));
      out.write("% de eficiencia general\\n\\n¬°Sigue optimizando los tiempos!`);\n");
      out.write("            } else {\n");
      out.write("                alert('No hay datos suficientes para el an√°lisis de eficiencia.');\n");
      out.write("            }\n");
      out.write("        }\n");
      out.write("    </script>\n");
      out.write("</body>\n");
      out.write("</html>");
    } catch (Throwable t) {
      if (!(t instanceof SkipPageException)){
        out = _jspx_out;
        if (out != null && out.getBufferSize() != 0)
          out.clearBuffer();
        if (_jspx_page_context != null) _jspx_page_context.handlePageException(t);
        else throw new ServletException(t);
      }
    } finally {
      _jspxFactory.releasePageContext(_jspx_page_context);
    }
  }
}
